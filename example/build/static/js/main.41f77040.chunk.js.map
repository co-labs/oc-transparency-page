{"version":3,"sources":["../../src/utils/generateRainbow.js","../../src/components/BarChart.js","../../src/components/ExpensesTable.js","../../src/components/PieChart.js","../../src/index.js","App.js","index.js"],"names":["numOfSteps","step","h","i","f","q","r","g","b","BarChart","periods","height","cats","console","expenses","orderBy","item","month","monthKey","catKey","label","data","backgroundColor","borderColor","borderWidth","stack","generateRainbow","formattedData","labels","datasets","options","maintainAspectRatio","useStyles1","makeStyles","theme","root","flexShrink","marginLeft","TablePaginationActions","props","classes","useTheme","onChangePage","className","onClick","event","disabled","page","aria-label","Math","count","PropTypes","rowsPerPage","isRequired","ExpensesTable","rows","React","emptyRows","component","Paper","align","row","key","name","scope","style","width","colSpan","rowsPerPageOptions","value","SelectProps","inputProps","native","newPage","setPage","onChangeRowsPerPage","setRowsPerPage","parseInt","ActionsComponent","PieChart","hoverBackgroundColor","labelKey","useStyles","flexGrow","paper","control","padding","ALL_EXPENSES","gql","date","useState","dateFrom","useQuery","variables","account","slug","fetchMore","offset","length","updateQuery","fetchMoreResult","prev","Object","res","messages","locale","defaultLocale","styles","src","alt","id","defaultMessage","values","moment","container","spacing","xs","apiKey","localStorage","getItem","client","ApolloClient","uri","cache","InMemoryCache","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.41f77040.chunk.js","sourcesContent":["/**\n * Helpers to generate a Rainbow between a number of step\n * @param numOfSteps\n * @param step\n * @returns {string}\n */\nexport default (numOfSteps, step) => {\n  let r, g, b\n  const h = step / numOfSteps\n  const i = ~~(h * 6)\n  const f = h * 6 - i\n  const q = 1 - f\n  switch (i % 6) {\n    case 0:\n      r = 1\n      g = f\n      b = 0\n      break\n    case 1:\n      r = q\n      g = 1\n      b = 0\n      break\n    case 2:\n      r = 0\n      g = 1\n      b = f\n      break\n    case 3:\n      r = 0\n      g = q\n      b = 1\n      break\n    case 4:\n      r = f\n      g = 0\n      b = 1\n      break\n    case 5:\n      r = 1\n      g = 0\n      b = q\n      break\n  }\n  return `#${`00${(~~(r * 255)).toString(16)}`.slice(-2)}${`00${(~~(\n    g * 255\n  )).toString(16)}`.slice(-2)}${`00${(~~(b * 255)).toString(16)}`.slice(-2)}`\n}\n","import React from 'react'\nimport { orderBy } from 'lodash'\nimport moment from 'moment'\nimport generateRainbow from '../utils/generateRainbow'\nimport { Bar } from 'react-chartjs-2'\n\nconst BarChart = ({ expenses, width, height }) => {\n  const periods = []\n  const cats = []\n\n  console.log('Count', expenses.length)\n\n  expenses = orderBy(expenses, (item) => item.createdAt)\n\n  expenses.map((item) => {\n    // eslint-disable-next-line new-cap\n    const month = new moment(item.createdAt).format('MM/YYYY')\n\n    let monthKey = periods.findIndex((i) => i === month)\n\n    if (monthKey === -1) {\n      monthKey = periods.push(month)\n      monthKey--\n    } else {\n    }\n\n    console.log('Month', monthKey)\n\n    let catKey = cats.findIndex((i) => i.label === item.tags[0])\n\n    if (catKey === -1) {\n      if (typeof item.tags[0] !== 'undefined') {\n        catKey = cats.push({\n          label: item.tags[0],\n          data: [],\n          backgroundColor: null,\n          borderColor: null,\n          borderWidth: 1,\n          stack: 'default'\n        })\n\n        catKey = catKey - 1\n      }\n    }\n\n    if (typeof cats[catKey] !== 'undefined') {\n      if (typeof cats[catKey].data[monthKey] === 'undefined') {\n        cats[catKey].data[monthKey] = 0\n      }\n\n      cats[catKey].data[monthKey] += item.amount / 100\n    }\n  })\n\n  cats.map((i, k) => {\n    cats[k].backgroundColor = generateRainbow(cats.length, k)\n    cats[k].borderColor = generateRainbow(cats.length, k)\n  })\n\n  const formattedData = {\n    labels: periods,\n    datasets: cats\n  }\n\n  return (\n    <Bar\n      data={formattedData}\n      options={{\n        maintainAspectRatio: true\n      }}\n    />\n  )\n}\n\nexport default BarChart\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableFooter from '@material-ui/core/TableFooter'\nimport TablePagination from '@material-ui/core/TablePagination'\nimport Paper from '@material-ui/core/Paper'\nimport IconButton from '@material-ui/core/IconButton'\nimport FirstPageIcon from '@material-ui/icons/FirstPage'\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft'\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight'\nimport LastPageIcon from '@material-ui/icons/LastPage'\n\nconst useStyles1 = makeStyles((theme) => ({\n  root: {\n    flexShrink: 0,\n    marginLeft: theme.spacing(2.5)\n  }\n}))\n\nfunction TablePaginationActions(props) {\n  const classes = useStyles1()\n  const theme = useTheme()\n  const { count, page, rowsPerPage, onChangePage } = props\n\n  const handleFirstPageButtonClick = (event) => {\n    onChangePage(event, 0)\n  }\n\n  const handleBackButtonClick = (event) => {\n    onChangePage(event, page - 1)\n  }\n\n  const handleNextButtonClick = (event) => {\n    onChangePage(event, page + 1)\n  }\n\n  const handleLastPageButtonClick = (event) => {\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1))\n  }\n\n  return (\n    <div className={classes.root}>\n      <IconButton\n        onClick={handleFirstPageButtonClick}\n        disabled={page === 0}\n        aria-label='first page'\n      >\n        {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\n      </IconButton>\n      <IconButton\n        onClick={handleBackButtonClick}\n        disabled={page === 0}\n        aria-label='previous page'\n      >\n        {theme.direction === 'rtl' ? (\n          <KeyboardArrowRight />\n        ) : (\n          <KeyboardArrowLeft />\n        )}\n      </IconButton>\n      <IconButton\n        onClick={handleNextButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label='next page'\n      >\n        {theme.direction === 'rtl' ? (\n          <KeyboardArrowLeft />\n        ) : (\n          <KeyboardArrowRight />\n        )}\n      </IconButton>\n      <IconButton\n        onClick={handleLastPageButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label='last page'\n      >\n        {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\n      </IconButton>\n    </div>\n  )\n}\n\nTablePaginationActions.propTypes = {\n  count: PropTypes.number.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  rowsPerPage: PropTypes.number.isRequired\n}\n\nconst ExpensesTable = ({ expenses, width, height }) => {\n  const rows = expenses\n  const [page, setPage] = React.useState(0)\n  const [rowsPerPage, setRowsPerPage] = React.useState(5)\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage)\n  }\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10))\n    setPage(0)\n  }\n\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage)\n\n  return (\n    <TableContainer component={Paper}>\n      <Table aria-label='simple table'>\n        <TableHead>\n          <TableRow>\n            <TableCell align='left'>Description</TableCell>\n            <TableCell align='left'>Amount</TableCell>\n            <TableCell align='right'>Status</TableCell>\n            <TableCell align='right'>Tags</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {(rowsPerPage > 0\n            ? rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n            : rows\n          ).map((row) => (\n            <TableRow key={row.name}>\n              <TableCell component='th' scope='row'>\n                {row.description}\n              </TableCell>\n              <TableCell style={{ width: 160 }} align='right'>\n                {row.amount / 100} {row.currency}\n              </TableCell>\n              <TableCell style={{ width: 160 }} align='right'>\n                {row.status}\n              </TableCell>\n              <TableCell style={{ width: 160 }} align='right'>\n                {row.tags}\n              </TableCell>\n            </TableRow>\n          ))}\n\n          {emptyRows > 0 && (\n            <TableRow style={{ height: 53 * emptyRows }}>\n              <TableCell colSpan={6} />\n            </TableRow>\n          )}\n        </TableBody>\n        <TableFooter>\n          <TableRow>\n            <TablePagination\n              rowsPerPageOptions={[5, 10, 25, { label: 'All', value: -1 }]}\n              colSpan={3}\n              count={rows.length}\n              rowsPerPage={rowsPerPage}\n              page={page}\n              SelectProps={{\n                inputProps: { 'aria-label': 'rows per page' },\n                native: true\n              }}\n              onChangePage={handleChangePage}\n              onChangeRowsPerPage={handleChangeRowsPerPage}\n              ActionsComponent={TablePaginationActions}\n            />\n          </TableRow>\n        </TableFooter>\n      </Table>\n    </TableContainer>\n  )\n}\n\nexport default ExpensesTable\n","import React from 'react'\nimport { orderBy } from 'lodash'\nimport generateRainbow from '../utils/generateRainbow'\nimport { Doughnut } from 'react-chartjs-2'\n\nconst PieChart = ({ expenses, width, height }) => {\n  const labels = []\n  const datasets = [\n    {\n      data: [],\n      backgroundColor: [],\n      hoverBackgroundColor: []\n    }\n  ]\n\n  expenses = orderBy(expenses, (item) => item.createdAt)\n\n  expenses.map((item) => {\n    // eslint-disable-next-line new-cap\n    const label = item.tags[0] ?? 'undefined'\n\n    let labelKey = labels.findIndex((i) => i === label)\n\n    if (labelKey === -1) {\n      labelKey = labels.push(label)\n      datasets[0].data[labelKey - 1] = item.amount / 100\n    } else {\n      datasets[0].data[labelKey] += item.amount / 100\n    }\n  })\n\n  labels.map((i, k) => {\n    datasets[0].backgroundColor[k] = generateRainbow(labels.length, k)\n    datasets[0].hoverBackgroundColor[k] = generateRainbow(labels.length, k)\n  })\n\n  const formattedData = {\n    labels: labels,\n    datasets: datasets\n  }\n\n  return (\n    <Doughnut\n      data={formattedData}\n      options={{\n        maintainAspectRatio: true\n      }}\n    />\n  )\n}\n\nexport default PieChart\n","import React, { useState } from 'react'\nimport styles from './styles.module.css'\nimport { useQuery, gql } from '@apollo/client'\nimport { IntlProvider, FormattedMessage } from 'react-intl'\nimport moment from 'moment'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport BarChart from './components/BarChart'\nimport ExpensesTable from './components/ExpensesTable'\nimport PieChart from './components/PieChart'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    height: 140,\n    width: 100,\n  },\n  control: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst ALL_EXPENSES = gql`\n  query ExpensesPage(\n    $account: AccountReferenceInput!\n    $slug: String!\n    $offset: Int!\n    $dateFrom: ISODateTime!\n  ) {\n    expenses(\n      account: $account\n      orderBy: { field: CREATED_AT, direction: ASC }\n      offset: $offset\n      limit: 100\n      status: PAID\n      dateFrom: $dateFrom\n    ) {\n      offset\n      totalCount\n      limit\n      nodes {\n        id\n        amount\n        tags\n        description\n        currency\n        status\n        createdAt\n      }\n    }\n    account(slug: $slug) {\n      id\n      imageUrl\n      name\n    }\n  }\n`\n/**\n * Transparency page component\n * @param slug The account slug\n * @returns {JSX.Element}\n * @constructor\n */\nconst TransparencyPage = ({ slug, locale, messages, date }) => {\n  const classes = useStyles();\n  const [width] = useState(800)\n  const [height] = useState(300)\n  const offset = 0\n  const dateFrom = useState(date ?? '2001-01-01')\n  /**\n   * Get all expenses\n   */\n  const { loading, error, data, fetchMore } = useQuery(ALL_EXPENSES, {\n    variables: {\n      account: { slug: slug },\n      slug,\n      offset,\n      dateFrom\n    }\n  })\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>Error :(</p>\n\n  const account = data.account\n\n  const expenses = data.expenses.nodes\n\n  fetchMore({\n    variables: {\n      offset: data.expenses.nodes.length\n    },\n    updateQuery: (prev, { fetchMoreResult }) => {\n      if (!fetchMoreResult) return prev\n\n      fetchMoreResult.expenses.nodes = prev.expenses.nodes.concat(\n        fetchMoreResult.expenses.nodes\n      )\n\n      return Object.assign({}, fetchMoreResult)\n    }\n  }).then((res) => {\n    console.log('Res', res)\n  })\n\n  if (!messages) {\n    messages = {}\n  }\n\n  if (!locale) {\n    locale = 'en'\n  }\n\n  return (\n    <IntlProvider locale={locale} defaultLocale='en' messages={messages}>\n      <div className={styles.title}>\n        <h1 className='header'>\n          <img className={styles.header__logo} src={account.imageUrl} alt='' />\n          {account.name}\n        </h1>\n        <div className='content'>\n          <h2>\n            <FormattedMessage\n              id='allExpensesFrom'\n              defaultMessage='All expenses from {date}'\n              values={{\n                date: moment(dateFrom, 'YYYY-MM-DD').format('DD/MM/YYYY')\n              }}\n            />\n          </h2>\n          <Grid container className={classes.root} spacing={2}>\n            <Grid item xs={8}>\n              <BarChart expenses={expenses} width={width} height={height} />\n            </Grid>\n            <Grid item xs={4}>\n              <PieChart expenses={expenses} width={width} height={height} />\n            </Grid>\n          </Grid>\n          <ExpensesTable expenses={expenses} width={width} height={height} />\n        </div>\n      </div>\n    </IntlProvider>\n  )\n}\n\nexport default TransparencyPage\n","import React from 'react'\n\nimport TransparencyPage from 'oc-transparency-page'\nimport 'oc-transparency-page/dist/index.css'\nimport { ApolloProvider, ApolloClient, InMemoryCache } from '@apollo/client'\n\n/**\n * An Open Collective Api Key is highly recommended\n * @type {string}\n */\nconst apiKey = localStorage.getItem('apiKey')\n\nconst client = new ApolloClient({\n  uri: 'https://api.opencollective.com/graphql/v2/' + apiKey,\n  cache: new InMemoryCache()\n})\n\nconst App = () => {\n  return <ApolloProvider client={client}>\n    <TransparencyPage client={client} slug={'xr-belgium'}\n                      date={\"2018-01-01\"}\n                      messages={{ 'allExpensesFrom': 'All expenses from {date}' }} />\n  </ApolloProvider>\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}