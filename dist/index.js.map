<<<<<<< HEAD
{"version":3,"file":"index.js","sources":["../src/theme.js","../src/utils/generateRainbow.js","../src/components/BarChart.js","../src/components/ExpensesTable.js","../src/components/PieChart.js","../src/utils/useWindowSize.js","../src/index.js"],"sourcesContent":["import { makeStyles } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme) => ({\n  body: {},\n  body__title: {\n    fontSize: '1.5em',\n    textAlign: 'center',\n    [theme.breakpoints.down('xs')]: {\n      fontSize: '1.2em',\n    }\n  },\n  charts: {\n    flexGrow: 1,\n  },\n  charts__bar: {},\n  charts__pie: {},\n  charts__table: {},\n  header: {\n    padding: '.5em',\n    textAlign: 'center',\n  },\n  header__logo: {\n    height: '1em !important',\n  },\n  header__title: {\n    fontSize: '2em',\n    [theme.breakpoints.down('xs')]: {\n      fontSize: '1.6em',\n    }\n  },\n  pagination: {\n    flexShrink: 0,\n    marginLeft: theme.spacing(2.5),\n  },\n  pagination__first: {},\n  pagination__prev: {},\n  pagination__next: {},\n  pagination__last: {},\n  table: {},\n  table__head: {},\n  table__head__row: {},\n  table__head__row__cell: {\n    fontSize: '1em',\n    [theme.breakpoints.down('xs')]: {\n      fontSize: '.8em',\n      padding: 10,\n    }\n  },\n  table__body: {},\n  table__body__row: {},\n  table__body__row__cell: {\n    fontSize: '.9em',\n    [theme.breakpoints.down('xs')]: {\n      fontSize: '.7em',\n      padding: 10,\n    }\n  },\n  table__footer: {},\n  table__footer__row: {},\n  'table-container': {},\n  wrapper: {\n    border: '1px solid red',\n  },\n}))\n","/**\n * Helpers to generate a Rainbow between a number of step\n * @param numOfSteps\n * @param step\n * @returns {string}\n */\nexport default (numOfSteps, step) => {\n  let r, g, b\n  const h = step / numOfSteps\n  const i = ~~(h * 6)\n  const f = h * 6 - i\n  const q = 1 - f\n  switch (i % 6) {\n    case 0:\n      r = 1\n      g = f\n      b = 0\n      break\n    case 1:\n      r = q\n      g = 1\n      b = 0\n      break\n    case 2:\n      r = 0\n      g = 1\n      b = f\n      break\n    case 3:\n      r = 0\n      g = q\n      b = 1\n      break\n    case 4:\n      r = f\n      g = 0\n      b = 1\n      break\n    case 5:\n      r = 1\n      g = 0\n      b = q\n      break\n  }\n  return `#${`00${(~~(r * 255)).toString(16)}`.slice(-2)}${`00${(~~(\n    g * 255\n  )).toString(16)}`.slice(-2)}${`00${(~~(b * 255)).toString(16)}`.slice(-2)}`\n}\n","import React from 'react'\nimport { orderBy } from 'lodash'\nimport moment from 'moment'\nimport generateRainbow from '../utils/generateRainbow'\nimport { Bar } from 'react-chartjs-2'\n\n/**\n * BarChart formatter for expenses\n * @param expenses\n * @param width\n * @param height\n * @returns {JSX.Element}\n * @constructor\n */\nconst BarChart = ({ expenses, width, height }) => {\n  const periods = []\n  const cats = []\n\n  expenses = orderBy(expenses, (item) => item.createdAt)\n\n  expenses.map((item) => {\n    // eslint-disable-next-line new-cap\n    const month = new moment(item.createdAt).format('MM/YYYY')\n\n    let monthKey = periods.findIndex((i) => i === month)\n\n    if (monthKey === -1) {\n      monthKey = periods.push(month)\n      monthKey--\n    }\n\n    let catKey = cats.findIndex((i) => i.label === item.tags[0])\n\n    if (catKey === -1) {\n      if (typeof item.tags[0] !== 'undefined') {\n        catKey = cats.push({\n          label: item.tags[0],\n          data: [],\n          backgroundColor: null,\n          borderColor: null,\n          borderWidth: 1,\n          stack: 'default'\n        })\n\n        catKey = catKey - 1\n      }\n    }\n\n    if (typeof cats[catKey] !== 'undefined') {\n      if (typeof cats[catKey].data[monthKey] === 'undefined') {\n        cats[catKey].data[monthKey] = 0\n      }\n\n      cats[catKey].data[monthKey] += item.amount / 100\n    }\n  })\n\n  cats.map((i, k) => {\n    cats[k].backgroundColor = generateRainbow(cats.length, k)\n    cats[k].borderColor = generateRainbow(cats.length, k)\n  })\n\n  const formattedData = {\n    labels: periods,\n    datasets: cats\n  }\n\n  const options = {\n    maintainAspectRatio: false,\n    responsive: true,\n  }\n\n  return (\n    <div style={{ height: width > 600 ? 350 : 450, position: 'relative' }}>\n      <Bar\n        data={formattedData}\n        options={options}\n      />\n    </div>\n  )\n}\n\nexport default BarChart\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useTheme } from '@material-ui/core/styles'\nimport { useStyles } from '../theme'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableFooter from '@material-ui/core/TableFooter'\nimport TablePagination from '@material-ui/core/TablePagination'\nimport Paper from '@material-ui/core/Paper'\nimport IconButton from '@material-ui/core/IconButton'\nimport FirstPageIcon from '@material-ui/icons/FirstPage'\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft'\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight'\nimport LastPageIcon from '@material-ui/icons/LastPage'\n\nfunction TablePaginationActions(props) {\n  const classes = useStyles()\n  const theme = useTheme()\n  const { count, page, rowsPerPage, onChangePage } = props\n\n  const handleFirstPageButtonClick = (event) => {\n    onChangePage(event, 0)\n  }\n\n  const handleBackButtonClick = (event) => {\n    onChangePage(event, page - 1)\n  }\n\n  const handleNextButtonClick = (event) => {\n    onChangePage(event, page + 1)\n  }\n\n  const handleLastPageButtonClick = (event) => {\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1))\n  }\n\n  return (\n    <div className={classes.pagination}>\n      <IconButton\n        className={classes.pagination__first}\n        onClick={handleFirstPageButtonClick}\n        disabled={page === 0}\n        aria-label='first page'\n      >\n        {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\n      </IconButton>\n      <IconButton\n        className={classes.pagination__prev}\n        onClick={handleBackButtonClick}\n        disabled={page === 0}\n        aria-label='previous page'\n      >\n        {theme.direction === 'rtl' ? (\n          <KeyboardArrowRight />\n        ) : (\n          <KeyboardArrowLeft />\n        )}\n      </IconButton>\n      <IconButton\n        className={classes.pagination__next}\n        onClick={handleNextButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label='next page'\n      >\n        {theme.direction === 'rtl' ? (\n          <KeyboardArrowLeft />\n        ) : (\n          <KeyboardArrowRight />\n        )}\n      </IconButton>\n      <IconButton\n        className={classes.pagination__last}\n        onClick={handleLastPageButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label='last page'\n      >\n        {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\n      </IconButton>\n    </div>\n  )\n}\n\nTablePaginationActions.propTypes = {\n  count: PropTypes.number.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  rowsPerPage: PropTypes.number.isRequired\n}\n\n/**\n * ExpensesTable formatter\n * @param expenses\n * @param width\n * @param height\n * @returns {JSX.Element}\n * @constructor\n */\nconst ExpensesTable = ({ expenses, width, height }) => {\n  const classes = useStyles()\n  const rows = expenses\n  const [page, setPage] = React.useState(0)\n  const [rowsPerPage, setRowsPerPage] = React.useState(10)\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage)\n  }\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10))\n    setPage(0)\n  }\n\n  const emptyRows =\n    rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage)\n\n  return (\n    <TableContainer className={classes['table-container']} component={Paper}>\n      <Table className={classes.table} aria-label='simple table'>\n        <TableHead className={classes.table__head}>\n          <TableRow className={classes.table__head__row}>\n            <TableCell className={classes.table__head__row__cell} align='left'>Description</TableCell>\n            <TableCell className={classes.table__head__row__cell} align='left'>Amount</TableCell>\n            <TableCell className={classes.table__head__row__cell} align='right'>Status</TableCell>\n            <TableCell className={classes.table__head__row__cell} align='right'>Tags</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody className={classes.table__body}>\n          {(rowsPerPage > 0\n            ? rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n            : rows\n          ).map((row) => (\n            <TableRow className={classes.table__body__row} key={row.id}>\n              <TableCell className={classes.table__body__row__cell} component='th' scope='row'>\n                {row.description}\n              </TableCell>\n              <TableCell className={classes.table__body__row__cell} style={{ width: 160 }} align='right'>\n                {row.amount / 100} {row.currency}\n              </TableCell>\n              <TableCell className={classes.table__body__row__cell} style={{ width: 160 }} align='right'>\n                {row.status}\n              </TableCell>\n              <TableCell className={classes.table__body__row__cell} style={{ width: 160 }} align='right'>\n                {row.tags}\n              </TableCell>\n            </TableRow>\n          ))}\n\n          {emptyRows > 0 && (\n            <TableRow className={classes.table__body__row} style={{ height: 53 * emptyRows }}>\n              <TableCell className={classes.table__body__row__cell} colSpan={6} />\n            </TableRow>\n          )}\n        </TableBody>\n        <TableFooter className={classes.table__footer}>\n          <TableRow className={classes.table__footer__row}>\n            <TablePagination\n              rowsPerPageOptions={[5, 10, 25, { label: 'All', value: -1 }]}\n              colSpan={4}\n              count={rows.length}\n              rowsPerPage={rowsPerPage}\n              page={page}\n              SelectProps={{\n                inputProps: { 'aria-label': 'rows per page' },\n                native: true\n              }}\n              onChangePage={handleChangePage}\n              onChangeRowsPerPage={handleChangeRowsPerPage}\n              ActionsComponent={TablePaginationActions}\n            />\n          </TableRow>\n        </TableFooter>\n      </Table>\n    </TableContainer>\n  )\n}\n\nexport default ExpensesTable\n","import React from 'react'\nimport { orderBy } from 'lodash'\nimport generateRainbow from '../utils/generateRainbow'\nimport { Bar, Doughnut } from 'react-chartjs-2'\n\n/**\n * Format a PieChart with the OpenCollective expenses data\n * @param expenses\n * @param width\n * @param height\n * @returns {JSX.Element}\n * @constructor\n */\nconst PieChart = ({ expenses, width, height }) => {\n  const labels = []\n  const datasets = [\n    {\n      data: [],\n      backgroundColor: [],\n      hoverBackgroundColor: []\n    }\n  ]\n\n  expenses = orderBy(expenses, (item) => item.createdAt)\n\n  expenses.map((item) => {\n    // eslint-disable-next-line new-cap\n    const label = item.tags[0] ?? 'undefined'\n\n    let labelKey = labels.findIndex((i) => i === label)\n\n    if (labelKey === -1) {\n      labelKey = labels.push(label)\n      datasets[0].data[labelKey - 1] = item.amount / 100\n    } else {\n      datasets[0].data[labelKey] += item.amount / 100\n    }\n  })\n\n  labels.map((i, k) => {\n    datasets[0].backgroundColor[k] = generateRainbow(labels.length, k)\n    datasets[0].hoverBackgroundColor[k] = generateRainbow(labels.length, k)\n  })\n\n  const formattedData = {\n    labels: labels,\n    datasets: datasets\n  }\n\n  const options = {\n    maintainAspectRatio: false,\n    responsive: true,\n  }\n\n  return (\n    <div style={{ height: width > 600 ? 300 : 350, position: 'relative' }}>\n      <Doughnut\n        data={formattedData}\n        options={options}\n      />\n    </div>\n  )\n}\n\nexport default PieChart\n","import { useLayoutEffect, useState } from \"react\";\nimport { debounce } from \"lodash\";\n\n/**\n * Return window size on resize.\n * @return {number[]}\n */\nexport function useWindowSize() {\n  const [size, setSize] = useState([0, 0]);\n\n  useLayoutEffect(() => {\n    const updateSize = debounce(() => {\n      setSize([window.innerWidth, window.innerHeight]);\n    }, 100);\n\n    window.addEventListener('resize', updateSize);\n    updateSize();\n\n    return () => window.removeEventListener('resize', updateSize);\n  }, []);\n\n  return size;\n}\n","import React, { useState } from 'react'\nimport { useQuery, gql } from '@apollo/client'\nimport { IntlProvider, FormattedMessage } from 'react-intl'\nimport moment from 'moment'\nimport Grid from '@material-ui/core/Grid'\nimport { useStyles } from './theme'\nimport BarChart from './components/BarChart'\nimport ExpensesTable from './components/ExpensesTable'\nimport PieChart from './components/PieChart'\nimport { useWindowSize } from \"./utils/useWindowSize\";\n\nconst ALL_EXPENSES = gql`\n  query ExpensesPage(\n    $account: AccountReferenceInput!\n    $slug: String!\n    $offset: Int!\n    $dateFrom: ISODateTime!\n  ) {\n    expenses(\n      account: $account\n      orderBy: { field: CREATED_AT, direction: ASC }\n      offset: $offset\n      limit: 100\n      status: PAID\n      dateFrom: $dateFrom\n    ) {\n      offset\n      totalCount\n      limit\n      nodes {\n        id\n        amount\n        tags\n        description\n        currency\n        status\n        createdAt\n      }\n    }\n    account(slug: $slug) {\n      id\n      imageUrl\n      name\n    }\n  }\n`\n\n/**\n * Transparency page component\n * @param slug The account slug\n * @returns {JSX.Element}\n * @constructor\n */\nconst TransparencyPage = ({ slug, locale, messages, date }) => {\n  const classes = useStyles()\n  const [width, height] = useWindowSize()\n  const offset = 0\n  const dateFrom = useState(date ?? '2001-01-01')\n  /**\n   * Get all expenses\n   */\n  const { loading, error, data, fetchMore } = useQuery(ALL_EXPENSES, {\n    variables: {\n      account: { slug: slug },\n      slug,\n      offset,\n      dateFrom\n    }\n  })\n\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>Error :(</p>\n\n  const account = data.account\n  const expenses = data.expenses.nodes\n\n  fetchMore({\n    variables: {\n      offset: data.expenses.nodes.length\n    },\n    updateQuery: (prev, { fetchMoreResult }) => {\n      if (!fetchMoreResult) return prev\n\n      fetchMoreResult.expenses.nodes = prev.expenses.nodes.concat(\n        fetchMoreResult.expenses.nodes\n      )\n\n      return Object.assign({}, fetchMoreResult)\n    }\n  }).then((res) => {\n    console.log('Res', res)\n  })\n\n  if (!messages) {\n    messages = {}\n  }\n\n  if (!locale) {\n    locale = 'en'\n  }\n\n  return (\n    <IntlProvider locale={locale} defaultLocale='en' messages={messages}>\n      <div className={classes.wrapper}>\n        <div className={classes.header}>\n          <h1 className={classes.header__title}>\n            <img className={classes.header__logo} src={account.imageUrl} alt='' />\n            {account.name}\n          </h1>\n        </div>\n        <div className={classes.body}>\n          <h2 className={classes.body__title}>\n            <FormattedMessage\n              id='allExpensesFrom'\n              defaultMessage='All expenses from {date}'\n              values={{\n                date: moment(dateFrom, 'YYYY-MM-DD').format('DD/MM/YYYY')\n              }}\n            />\n          </h2>\n          <Grid className={classes.charts} container spacing={5}>\n            <Grid className={classes.charts__bar} item xs={12} md={8}>\n              <BarChart expenses={expenses} width={width} height={height} />\n            </Grid>\n            <Grid className={classes.charts__pie} item xs={12} md={4}>\n              <PieChart expenses={expenses} width={width} height={height} />\n            </Grid>\n            <Grid className={classes.charts__table} item xs={12}>\n              <ExpensesTable expenses={expenses} width={width} height={height} />\n            </Grid>\n          </Grid>\n        </div>\n      </div>\n    </IntlProvider>\n  )\n}\n\nexport * from './components/BarChart'\nexport * from './components/PieChart'\nexport * from './components/ExpensesTable'\n\nexport default TransparencyPage\n"],"names":["useStyles","makeStyles","theme","body","body__title","fontSize","textAlign","breakpoints","down","charts","flexGrow","charts__bar","charts__pie","charts__table","header","padding","header__logo","height","header__title","pagination","flexShrink","marginLeft","spacing","pagination__first","pagination__prev","pagination__next","pagination__last","table","table__head","table__head__row","table__head__row__cell","table__body","table__body__row","table__body__row__cell","table__footer","table__footer__row","wrapper","border","numOfSteps","step","r","g","b","h","i","f","q","toString","slice","BarChart","expenses","width","periods","cats","orderBy","item","createdAt","map","month","moment","format","monthKey","findIndex","push","catKey","label","tags","data","backgroundColor","borderColor","borderWidth","stack","amount","k","generateRainbow","length","formattedData","labels","datasets","options","maintainAspectRatio","responsive","React","position","Bar","TablePaginationActions","props","classes","useTheme","count","page","rowsPerPage","onChangePage","handleFirstPageButtonClick","event","handleBackButtonClick","handleNextButtonClick","handleLastPageButtonClick","Math","max","ceil","direction","propTypes","PropTypes","number","isRequired","func","ExpensesTable","rows","useState","setPage","setRowsPerPage","handleChangePage","newPage","handleChangeRowsPerPage","parseInt","target","value","emptyRows","min","Paper","row","id","description","currency","status","inputProps","PieChart","hoverBackgroundColor","labelKey","Doughnut","useWindowSize","size","setSize","useLayoutEffect","updateSize","debounce","window","innerWidth","innerHeight","addEventListener","removeEventListener","ALL_EXPENSES","gql","TransparencyPage","slug","locale","messages","date","offset","dateFrom","useQuery","variables","account","loading","error","fetchMore","nodes","updateQuery","prev","fetchMoreResult","concat","Object","assign","then","res","console","log","IntlProvider","imageUrl","name","FormattedMessage"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEO,IAAMA,SAAS,GAAGC,iBAAU,CAAC,UAACC,KAAD;AAAA;;AAAA,SAAY;AAC9CC,IAAAA,IAAI,EAAE,EADwC;AAE9CC,IAAAA,WAAW;AACTC,MAAAA,QAAQ,EAAE,OADD;AAETC,MAAAA,SAAS,EAAE;AAFF,oBAGRJ,KAAK,CAACK,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAHQ,IAGuB;AAC9BH,MAAAA,QAAQ,EAAE;AADoB,KAHvB,eAFmC;AAS9CI,IAAAA,MAAM,EAAE;AACNC,MAAAA,QAAQ,EAAE;AADJ,KATsC;AAY9CC,IAAAA,WAAW,EAAE,EAZiC;AAa9CC,IAAAA,WAAW,EAAE,EAbiC;AAc9CC,IAAAA,aAAa,EAAE,EAd+B;AAe9CC,IAAAA,MAAM,EAAE;AACNC,MAAAA,OAAO,EAAE,MADH;AAENT,MAAAA,SAAS,EAAE;AAFL,KAfsC;AAmB9CU,IAAAA,YAAY,EAAE;AACZC,MAAAA,MAAM,EAAE;AADI,KAnBgC;AAsB9CC,IAAAA,aAAa;AACXb,MAAAA,QAAQ,EAAE;AADC,sBAEVH,KAAK,CAACK,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAFU,IAEqB;AAC9BH,MAAAA,QAAQ,EAAE;AADoB,KAFrB,iBAtBiC;AA4B9Cc,IAAAA,UAAU,EAAE;AACVC,MAAAA,UAAU,EAAE,CADF;AAEVC,MAAAA,UAAU,EAAEnB,KAAK,CAACoB,OAAN,CAAc,GAAd;AAFF,KA5BkC;AAgC9CC,IAAAA,iBAAiB,EAAE,EAhC2B;AAiC9CC,IAAAA,gBAAgB,EAAE,EAjC4B;AAkC9CC,IAAAA,gBAAgB,EAAE,EAlC4B;AAmC9CC,IAAAA,gBAAgB,EAAE,EAnC4B;AAoC9CC,IAAAA,KAAK,EAAE,EApCuC;AAqC9CC,IAAAA,WAAW,EAAE,EArCiC;AAsC9CC,IAAAA,gBAAgB,EAAE,EAtC4B;AAuC9CC,IAAAA,sBAAsB;AACpBzB,MAAAA,QAAQ,EAAE;AADU,6BAEnBH,KAAK,CAACK,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAFmB,IAEY;AAC9BH,MAAAA,QAAQ,EAAE,MADoB;AAE9BU,MAAAA,OAAO,EAAE;AAFqB,KAFZ,wBAvCwB;AA8C9CgB,IAAAA,WAAW,EAAE,EA9CiC;AA+C9CC,IAAAA,gBAAgB,EAAE,EA/C4B;AAgD9CC,IAAAA,sBAAsB;AACpB5B,MAAAA,QAAQ,EAAE;AADU,6BAEnBH,KAAK,CAACK,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAFmB,IAEY;AAC9BH,MAAAA,QAAQ,EAAE,MADoB;AAE9BU,MAAAA,OAAO,EAAE;AAFqB,KAFZ,wBAhDwB;AAuD9CmB,IAAAA,aAAa,EAAE,EAvD+B;AAwD9CC,IAAAA,kBAAkB,EAAE,EAxD0B;AAyD9C,uBAAmB,EAzD2B;AA0D9CC,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EAAE;AADD;AA1DqC,GAAZ;AAAA,CAAD,CAA5B;;ACIP,uBAAe,UAACC,UAAD,EAAaC,IAAb,EAAsB;AACnC,MAAIC,CAAJ,EAAOC,CAAP,EAAUC,CAAV;AACA,MAAMC,CAAC,GAAGJ,IAAI,GAAGD,UAAjB;AACA,MAAMM,CAAC,GAAG,CAAC,EAAED,CAAC,GAAG,CAAN,CAAX;AACA,MAAME,CAAC,GAAGF,CAAC,GAAG,CAAJ,GAAQC,CAAlB;AACA,MAAME,CAAC,GAAG,IAAID,CAAd;;AACA,UAAQD,CAAC,GAAG,CAAZ;AACE,SAAK,CAAL;AACEJ,MAAAA,CAAC,GAAG,CAAJ;AACAC,MAAAA,CAAC,GAAGI,CAAJ;AACAH,MAAAA,CAAC,GAAG,CAAJ;AACA;;AACF,SAAK,CAAL;AACEF,MAAAA,CAAC,GAAGM,CAAJ;AACAL,MAAAA,CAAC,GAAG,CAAJ;AACAC,MAAAA,CAAC,GAAG,CAAJ;AACA;;AACF,SAAK,CAAL;AACEF,MAAAA,CAAC,GAAG,CAAJ;AACAC,MAAAA,CAAC,GAAG,CAAJ;AACAC,MAAAA,CAAC,GAAGG,CAAJ;AACA;;AACF,SAAK,CAAL;AACEL,MAAAA,CAAC,GAAG,CAAJ;AACAC,MAAAA,CAAC,GAAGK,CAAJ;AACAJ,MAAAA,CAAC,GAAG,CAAJ;AACA;;AACF,SAAK,CAAL;AACEF,MAAAA,CAAC,GAAGK,CAAJ;AACAJ,MAAAA,CAAC,GAAG,CAAJ;AACAC,MAAAA,CAAC,GAAG,CAAJ;AACA;;AACF,SAAK,CAAL;AACEF,MAAAA,CAAC,GAAG,CAAJ;AACAC,MAAAA,CAAC,GAAG,CAAJ;AACAC,MAAAA,CAAC,GAAGI,CAAJ;AACA;AA9BJ;;AAgCA,eAAW,QAAK,CAAC,CAAC,EAAEN,CAAC,GAAG,GAAN,CAAF,EAAcO,QAAd,CAAuB,EAAvB,CAAL,EAAkCC,KAAlC,CAAwC,CAAC,CAAzC,CAAX,GAAyD,QAAK,CAAC,CAAC,EAC9DP,CAAC,GAAG,GAD0D,CAAF,EAE3DM,QAF2D,CAElD,EAFkD,CAAL,EAEvCC,KAFuC,CAEjC,CAAC,CAFgC,CAAzD,GAE8B,QAAK,CAAC,CAAC,EAAEN,CAAC,GAAG,GAAN,CAAF,EAAcK,QAAd,CAAuB,EAAvB,CAAL,EAAkCC,KAAlC,CAAwC,CAAC,CAAzC,CAF9B;AAGD,CAzCD;;ACQA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,OAAiC;AAAA,MAA9BC,QAA8B,QAA9BA,QAA8B;AAAA,MAApBC,KAAoB,QAApBA,KAAoB;AAChD,MAAMC,OAAO,GAAG,EAAhB;AACA,MAAMC,IAAI,GAAG,EAAb;AAEAH,EAAAA,QAAQ,GAAGI,cAAO,CAACJ,QAAD,EAAW,UAACK,IAAD;AAAA,WAAUA,IAAI,CAACC,SAAf;AAAA,GAAX,CAAlB;AAEAN,EAAAA,QAAQ,CAACO,GAAT,CAAa,UAACF,IAAD,EAAU;AAErB,QAAMG,KAAK,GAAG,IAAIC,MAAJ,CAAWJ,IAAI,CAACC,SAAhB,EAA2BI,MAA3B,CAAkC,SAAlC,CAAd;AAEA,QAAIC,QAAQ,GAAGT,OAAO,CAACU,SAAR,CAAkB,UAAClB,CAAD;AAAA,aAAOA,CAAC,KAAKc,KAAb;AAAA,KAAlB,CAAf;;AAEA,QAAIG,QAAQ,KAAK,CAAC,CAAlB,EAAqB;AACnBA,MAAAA,QAAQ,GAAGT,OAAO,CAACW,IAAR,CAAaL,KAAb,CAAX;AACAG,MAAAA,QAAQ;AACT;;AAED,QAAIG,MAAM,GAAGX,IAAI,CAACS,SAAL,CAAe,UAAClB,CAAD;AAAA,aAAOA,CAAC,CAACqB,KAAF,KAAYV,IAAI,CAACW,IAAL,CAAU,CAAV,CAAnB;AAAA,KAAf,CAAb;;AAEA,QAAIF,MAAM,KAAK,CAAC,CAAhB,EAAmB;AACjB,UAAI,OAAOT,IAAI,CAACW,IAAL,CAAU,CAAV,CAAP,KAAwB,WAA5B,EAAyC;AACvCF,QAAAA,MAAM,GAAGX,IAAI,CAACU,IAAL,CAAU;AACjBE,UAAAA,KAAK,EAAEV,IAAI,CAACW,IAAL,CAAU,CAAV,CADU;AAEjBC,UAAAA,IAAI,EAAE,EAFW;AAGjBC,UAAAA,eAAe,EAAE,IAHA;AAIjBC,UAAAA,WAAW,EAAE,IAJI;AAKjBC,UAAAA,WAAW,EAAE,CALI;AAMjBC,UAAAA,KAAK,EAAE;AANU,SAAV,CAAT;AASAP,QAAAA,MAAM,GAAGA,MAAM,GAAG,CAAlB;AACD;AACF;;AAED,QAAI,OAAOX,IAAI,CAACW,MAAD,CAAX,KAAwB,WAA5B,EAAyC;AACvC,UAAI,OAAOX,IAAI,CAACW,MAAD,CAAJ,CAAaG,IAAb,CAAkBN,QAAlB,CAAP,KAAuC,WAA3C,EAAwD;AACtDR,QAAAA,IAAI,CAACW,MAAD,CAAJ,CAAaG,IAAb,CAAkBN,QAAlB,IAA8B,CAA9B;AACD;;AAEDR,MAAAA,IAAI,CAACW,MAAD,CAAJ,CAAaG,IAAb,CAAkBN,QAAlB,KAA+BN,IAAI,CAACiB,MAAL,GAAc,GAA7C;AACD;AACF,GAnCD;AAqCAnB,EAAAA,IAAI,CAACI,GAAL,CAAS,UAACb,CAAD,EAAI6B,CAAJ,EAAU;AACjBpB,IAAAA,IAAI,CAACoB,CAAD,CAAJ,CAAQL,eAAR,GAA0BM,eAAe,CAACrB,IAAI,CAACsB,MAAN,EAAcF,CAAd,CAAzC;AACApB,IAAAA,IAAI,CAACoB,CAAD,CAAJ,CAAQJ,WAAR,GAAsBK,eAAe,CAACrB,IAAI,CAACsB,MAAN,EAAcF,CAAd,CAArC;AACD,GAHD;AAKA,MAAMG,aAAa,GAAG;AACpBC,IAAAA,MAAM,EAAEzB,OADY;AAEpB0B,IAAAA,QAAQ,EAAEzB;AAFU,GAAtB;AAKA,MAAM0B,OAAO,GAAG;AACdC,IAAAA,mBAAmB,EAAE,KADP;AAEdC,IAAAA,UAAU,EAAE;AAFE,GAAhB;AAKA,sBACEC;AAAK,IAAA,KAAK,EAAE;AAAEjE,MAAAA,MAAM,EAAEkC,KAAK,GAAG,GAAR,GAAc,GAAd,GAAoB,GAA9B;AAAmCgC,MAAAA,QAAQ,EAAE;AAA7C;AAAZ,kBACED,6BAACE,iBAAD;AACE,IAAA,IAAI,EAAER,aADR;AAEE,IAAA,OAAO,EAAEG;AAFX,IADF,CADF;AAQD,CAlED;;ACKA,SAASM,sBAAT,CAAgCC,KAAhC,EAAuC;AACrC,MAAMC,OAAO,GAAGvF,SAAS,EAAzB;AACA,MAAME,KAAK,GAAGsF,eAAQ,EAAtB;AAFqC,MAG7BC,KAH6B,GAGcH,KAHd,CAG7BG,KAH6B;AAAA,MAGtBC,IAHsB,GAGcJ,KAHd,CAGtBI,IAHsB;AAAA,MAGhBC,WAHgB,GAGcL,KAHd,CAGhBK,WAHgB;AAAA,MAGHC,YAHG,GAGcN,KAHd,CAGHM,YAHG;;AAKrC,MAAMC,0BAA0B,GAAG,SAA7BA,0BAA6B,CAACC,KAAD,EAAW;AAC5CF,IAAAA,YAAY,CAACE,KAAD,EAAQ,CAAR,CAAZ;AACD,GAFD;;AAIA,MAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACD,KAAD,EAAW;AACvCF,IAAAA,YAAY,CAACE,KAAD,EAAQJ,IAAI,GAAG,CAAf,CAAZ;AACD,GAFD;;AAIA,MAAMM,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACF,KAAD,EAAW;AACvCF,IAAAA,YAAY,CAACE,KAAD,EAAQJ,IAAI,GAAG,CAAf,CAAZ;AACD,GAFD;;AAIA,MAAMO,yBAAyB,GAAG,SAA5BA,yBAA4B,CAACH,KAAD,EAAW;AAC3CF,IAAAA,YAAY,CAACE,KAAD,EAAQI,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYD,IAAI,CAACE,IAAL,CAAUX,KAAK,GAAGE,WAAlB,IAAiC,CAA7C,CAAR,CAAZ;AACD,GAFD;;AAIA,sBACET;AAAK,IAAA,SAAS,EAAEK,OAAO,CAACpE;AAAxB,kBACE+D,6BAAC,UAAD;AACE,IAAA,SAAS,EAAEK,OAAO,CAAChE,iBADrB;AAEE,IAAA,OAAO,EAAEsE,0BAFX;AAGE,IAAA,QAAQ,EAAEH,IAAI,KAAK,CAHrB;AAIE,kBAAW;AAJb,KAMGxF,KAAK,CAACmG,SAAN,KAAoB,KAApB,gBAA4BnB,6BAAC,YAAD,OAA5B,gBAA+CA,6BAAC,aAAD,OANlD,CADF,eASEA,6BAAC,UAAD;AACE,IAAA,SAAS,EAAEK,OAAO,CAAC/D,gBADrB;AAEE,IAAA,OAAO,EAAEuE,qBAFX;AAGE,IAAA,QAAQ,EAAEL,IAAI,KAAK,CAHrB;AAIE,kBAAW;AAJb,KAMGxF,KAAK,CAACmG,SAAN,KAAoB,KAApB,gBACCnB,6BAAC,kBAAD,OADD,gBAGCA,6BAAC,iBAAD,OATJ,CATF,eAqBEA,6BAAC,UAAD;AACE,IAAA,SAAS,EAAEK,OAAO,CAAC9D,gBADrB;AAEE,IAAA,OAAO,EAAEuE,qBAFX;AAGE,IAAA,QAAQ,EAAEN,IAAI,IAAIQ,IAAI,CAACE,IAAL,CAAUX,KAAK,GAAGE,WAAlB,IAAiC,CAHrD;AAIE,kBAAW;AAJb,KAMGzF,KAAK,CAACmG,SAAN,KAAoB,KAApB,gBACCnB,6BAAC,iBAAD,OADD,gBAGCA,6BAAC,kBAAD,OATJ,CArBF,eAiCEA,6BAAC,UAAD;AACE,IAAA,SAAS,EAAEK,OAAO,CAAC7D,gBADrB;AAEE,IAAA,OAAO,EAAEuE,yBAFX;AAGE,IAAA,QAAQ,EAAEP,IAAI,IAAIQ,IAAI,CAACE,IAAL,CAAUX,KAAK,GAAGE,WAAlB,IAAiC,CAHrD;AAIE,kBAAW;AAJb,KAMGzF,KAAK,CAACmG,SAAN,KAAoB,KAApB,gBAA4BnB,6BAAC,aAAD,OAA5B,gBAAgDA,6BAAC,YAAD,OANnD,CAjCF,CADF;AA4CD;;AAEDG,sBAAsB,CAACiB,SAAvB,GAAmC;AACjCb,EAAAA,KAAK,EAAEc,SAAS,CAACC,MAAV,CAAiBC,UADS;AAEjCb,EAAAA,YAAY,EAAEW,SAAS,CAACG,IAAV,CAAeD,UAFI;AAGjCf,EAAAA,IAAI,EAAEa,SAAS,CAACC,MAAV,CAAiBC,UAHU;AAIjCd,EAAAA,WAAW,EAAEY,SAAS,CAACC,MAAV,CAAiBC;AAJG,CAAnC;;AAeA,IAAME,aAAa,GAAG,SAAhBA,aAAgB,OAAiC;AAAA,MAA9BzD,QAA8B,QAA9BA,QAA8B;AACrD,MAAMqC,OAAO,GAAGvF,SAAS,EAAzB;AACA,MAAM4G,IAAI,GAAG1D,QAAb;;AAFqD,wBAG7BgC,cAAK,CAAC2B,QAAN,CAAe,CAAf,CAH6B;AAAA,MAG9CnB,IAH8C;AAAA,MAGxCoB,OAHwC;;AAAA,yBAIf5B,cAAK,CAAC2B,QAAN,CAAe,EAAf,CAJe;AAAA,MAI9ClB,WAJ8C;AAAA,MAIjCoB,cAJiC;;AAMrD,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAClB,KAAD,EAAQmB,OAAR,EAAoB;AAC3CH,IAAAA,OAAO,CAACG,OAAD,CAAP;AACD,GAFD;;AAIA,MAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACpB,KAAD,EAAW;AACzCiB,IAAAA,cAAc,CAACI,QAAQ,CAACrB,KAAK,CAACsB,MAAN,CAAaC,KAAd,EAAqB,EAArB,CAAT,CAAd;AACAP,IAAAA,OAAO,CAAC,CAAD,CAAP;AACD,GAHD;;AAKA,MAAMQ,SAAS,GACb3B,WAAW,GAAGO,IAAI,CAACqB,GAAL,CAAS5B,WAAT,EAAsBiB,IAAI,CAACjC,MAAL,GAAce,IAAI,GAAGC,WAA3C,CADhB;AAGA,sBACET,6BAAC,cAAD;AAAgB,IAAA,SAAS,EAAEK,OAAO,CAAC,iBAAD,CAAlC;AAAuD,IAAA,SAAS,EAAEiC;AAAlE,kBACEtC,6BAAC,KAAD;AAAO,IAAA,SAAS,EAAEK,OAAO,CAAC5D,KAA1B;AAAiC,kBAAW;AAA5C,kBACEuD,6BAAC,SAAD;AAAW,IAAA,SAAS,EAAEK,OAAO,CAAC3D;AAA9B,kBACEsD,6BAAC,QAAD;AAAU,IAAA,SAAS,EAAEK,OAAO,CAAC1D;AAA7B,kBACEqD,6BAAC,SAAD;AAAW,IAAA,SAAS,EAAEK,OAAO,CAACzD,sBAA9B;AAAsD,IAAA,KAAK,EAAC;AAA5D,mBADF,eAEEoD,6BAAC,SAAD;AAAW,IAAA,SAAS,EAAEK,OAAO,CAACzD,sBAA9B;AAAsD,IAAA,KAAK,EAAC;AAA5D,cAFF,eAGEoD,6BAAC,SAAD;AAAW,IAAA,SAAS,EAAEK,OAAO,CAACzD,sBAA9B;AAAsD,IAAA,KAAK,EAAC;AAA5D,cAHF,eAIEoD,6BAAC,SAAD;AAAW,IAAA,SAAS,EAAEK,OAAO,CAACzD,sBAA9B;AAAsD,IAAA,KAAK,EAAC;AAA5D,YAJF,CADF,CADF,eASEoD,6BAAC,SAAD;AAAW,IAAA,SAAS,EAAEK,OAAO,CAACxD;AAA9B,KACG,CAAC4D,WAAW,GAAG,CAAd,GACEiB,IAAI,CAAC5D,KAAL,CAAW0C,IAAI,GAAGC,WAAlB,EAA+BD,IAAI,GAAGC,WAAP,GAAqBA,WAApD,CADF,GAEEiB,IAFH,EAGCnD,GAHD,CAGK,UAACgE,GAAD;AAAA,wBACJvC,6BAAC,QAAD;AAAU,MAAA,SAAS,EAAEK,OAAO,CAACvD,gBAA7B;AAA+C,MAAA,GAAG,EAAEyF,GAAG,CAACC;AAAxD,oBACExC,6BAAC,SAAD;AAAW,MAAA,SAAS,EAAEK,OAAO,CAACtD,sBAA9B;AAAsD,MAAA,SAAS,EAAC,IAAhE;AAAqE,MAAA,KAAK,EAAC;AAA3E,OACGwF,GAAG,CAACE,WADP,CADF,eAIEzC,6BAAC,SAAD;AAAW,MAAA,SAAS,EAAEK,OAAO,CAACtD,sBAA9B;AAAsD,MAAA,KAAK,EAAE;AAAEkB,QAAAA,KAAK,EAAE;AAAT,OAA7D;AAA6E,MAAA,KAAK,EAAC;AAAnF,OACGsE,GAAG,CAACjD,MAAJ,GAAa,GADhB,OACsBiD,GAAG,CAACG,QAD1B,CAJF,eAOE1C,6BAAC,SAAD;AAAW,MAAA,SAAS,EAAEK,OAAO,CAACtD,sBAA9B;AAAsD,MAAA,KAAK,EAAE;AAAEkB,QAAAA,KAAK,EAAE;AAAT,OAA7D;AAA6E,MAAA,KAAK,EAAC;AAAnF,OACGsE,GAAG,CAACI,MADP,CAPF,eAUE3C,6BAAC,SAAD;AAAW,MAAA,SAAS,EAAEK,OAAO,CAACtD,sBAA9B;AAAsD,MAAA,KAAK,EAAE;AAAEkB,QAAAA,KAAK,EAAE;AAAT,OAA7D;AAA6E,MAAA,KAAK,EAAC;AAAnF,OACGsE,GAAG,CAACvD,IADP,CAVF,CADI;AAAA,GAHL,CADH,EAqBGoD,SAAS,GAAG,CAAZ,iBACCpC,6BAAC,QAAD;AAAU,IAAA,SAAS,EAAEK,OAAO,CAACvD,gBAA7B;AAA+C,IAAA,KAAK,EAAE;AAAEf,MAAAA,MAAM,EAAE,KAAKqG;AAAf;AAAtD,kBACEpC,6BAAC,SAAD;AAAW,IAAA,SAAS,EAAEK,OAAO,CAACtD,sBAA9B;AAAsD,IAAA,OAAO,EAAE;AAA/D,IADF,CAtBJ,CATF,eAoCEiD,6BAAC,WAAD;AAAa,IAAA,SAAS,EAAEK,OAAO,CAACrD;AAAhC,kBACEgD,6BAAC,QAAD;AAAU,IAAA,SAAS,EAAEK,OAAO,CAACpD;AAA7B,kBACE+C,6BAAC,eAAD;AACE,IAAA,kBAAkB,EAAE,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY;AAAEjB,MAAAA,KAAK,EAAE,KAAT;AAAgBoD,MAAAA,KAAK,EAAE,CAAC;AAAxB,KAAZ,CADtB;AAEE,IAAA,OAAO,EAAE,CAFX;AAGE,IAAA,KAAK,EAAET,IAAI,CAACjC,MAHd;AAIE,IAAA,WAAW,EAAEgB,WAJf;AAKE,IAAA,IAAI,EAAED,IALR;AAME,IAAA,WAAW,EAAE;AACXoC,MAAAA,UAAU,EAAE;AAAE,sBAAc;AAAhB,OADD;AAEX,gBAAQ;AAFG,KANf;AAUE,IAAA,YAAY,EAAEd,gBAVhB;AAWE,IAAA,mBAAmB,EAAEE,uBAXvB;AAYE,IAAA,gBAAgB,EAAE7B;AAZpB,IADF,CADF,CApCF,CADF,CADF;AA2DD,CA7ED;;ACxFA,IAAM0C,QAAQ,GAAG,SAAXA,QAAW,OAAiC;AAAA,MAA9B7E,QAA8B,QAA9BA,QAA8B;AAAA,MAApBC,KAAoB,QAApBA,KAAoB;AAChD,MAAM0B,MAAM,GAAG,EAAf;AACA,MAAMC,QAAQ,GAAG,CACf;AACEX,IAAAA,IAAI,EAAE,EADR;AAEEC,IAAAA,eAAe,EAAE,EAFnB;AAGE4D,IAAAA,oBAAoB,EAAE;AAHxB,GADe,CAAjB;AAQA9E,EAAAA,QAAQ,GAAGI,cAAO,CAACJ,QAAD,EAAW,UAACK,IAAD;AAAA,WAAUA,IAAI,CAACC,SAAf;AAAA,GAAX,CAAlB;AAEAN,EAAAA,QAAQ,CAACO,GAAT,CAAa,UAACF,IAAD,EAAU;AAAA;;AAErB,QAAMU,KAAK,kBAAGV,IAAI,CAACW,IAAL,CAAU,CAAV,CAAH,0BAAmB,WAA9B;AAEA,QAAI+D,QAAQ,GAAGpD,MAAM,CAACf,SAAP,CAAiB,UAAClB,CAAD;AAAA,aAAOA,CAAC,KAAKqB,KAAb;AAAA,KAAjB,CAAf;;AAEA,QAAIgE,QAAQ,KAAK,CAAC,CAAlB,EAAqB;AACnBA,MAAAA,QAAQ,GAAGpD,MAAM,CAACd,IAAP,CAAYE,KAAZ,CAAX;AACAa,MAAAA,QAAQ,CAAC,CAAD,CAAR,CAAYX,IAAZ,CAAiB8D,QAAQ,GAAG,CAA5B,IAAiC1E,IAAI,CAACiB,MAAL,GAAc,GAA/C;AACD,KAHD,MAGO;AACLM,MAAAA,QAAQ,CAAC,CAAD,CAAR,CAAYX,IAAZ,CAAiB8D,QAAjB,KAA8B1E,IAAI,CAACiB,MAAL,GAAc,GAA5C;AACD;AACF,GAZD;AAcAK,EAAAA,MAAM,CAACpB,GAAP,CAAW,UAACb,CAAD,EAAI6B,CAAJ,EAAU;AACnBK,IAAAA,QAAQ,CAAC,CAAD,CAAR,CAAYV,eAAZ,CAA4BK,CAA5B,IAAiCC,eAAe,CAACG,MAAM,CAACF,MAAR,EAAgBF,CAAhB,CAAhD;AACAK,IAAAA,QAAQ,CAAC,CAAD,CAAR,CAAYkD,oBAAZ,CAAiCvD,CAAjC,IAAsCC,eAAe,CAACG,MAAM,CAACF,MAAR,EAAgBF,CAAhB,CAArD;AACD,GAHD;AAKA,MAAMG,aAAa,GAAG;AACpBC,IAAAA,MAAM,EAAEA,MADY;AAEpBC,IAAAA,QAAQ,EAAEA;AAFU,GAAtB;AAKA,MAAMC,OAAO,GAAG;AACdC,IAAAA,mBAAmB,EAAE,KADP;AAEdC,IAAAA,UAAU,EAAE;AAFE,GAAhB;AAKA,sBACEC;AAAK,IAAA,KAAK,EAAE;AAAEjE,MAAAA,MAAM,EAAEkC,KAAK,GAAG,GAAR,GAAc,GAAd,GAAoB,GAA9B;AAAmCgC,MAAAA,QAAQ,EAAE;AAA7C;AAAZ,kBACED,6BAACgD,sBAAD;AACE,IAAA,IAAI,EAAEtD,aADR;AAEE,IAAA,OAAO,EAAEG;AAFX,IADF,CADF;AAQD,CAjDD;;ACNO,SAASoD,aAAT,GAAyB;AAAA,kBACNtB,cAAQ,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,CADF;AAAA,MACvBuB,IADuB;AAAA,MACjBC,OADiB;;AAG9BC,EAAAA,qBAAe,CAAC,YAAM;AACpB,QAAMC,UAAU,GAAGC,eAAQ,CAAC,YAAM;AAChCH,MAAAA,OAAO,CAAC,CAACI,MAAM,CAACC,UAAR,EAAoBD,MAAM,CAACE,WAA3B,CAAD,CAAP;AACD,KAF0B,EAExB,GAFwB,CAA3B;AAIAF,IAAAA,MAAM,CAACG,gBAAP,CAAwB,QAAxB,EAAkCL,UAAlC;AACAA,IAAAA,UAAU;AAEV,WAAO;AAAA,aAAME,MAAM,CAACI,mBAAP,CAA2B,QAA3B,EAAqCN,UAArC,CAAN;AAAA,KAAP;AACD,GATc,EASZ,EATY,CAAf;AAWA,SAAOH,IAAP;AACD;;;;;;;;;;;ACXD,IAAMU,YAAY,GAAGC,UAAH,mBAAlB;;AA0CA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,OAAsC;AAAA,MAAnCC,IAAmC,QAAnCA,IAAmC;AAAA,MAA7BC,MAA6B,QAA7BA,MAA6B;AAAA,MAArBC,QAAqB,QAArBA,QAAqB;AAAA,MAAXC,IAAW,QAAXA,IAAW;AAC7D,MAAM7D,OAAO,GAAGvF,SAAS,EAAzB;;AAD6D,uBAErCmI,aAAa,EAFwB;AAAA,MAEtDhF,KAFsD;AAAA,MAE/ClC,MAF+C;;AAG7D,MAAMoI,MAAM,GAAG,CAAf;AACA,MAAMC,QAAQ,GAAGzC,cAAQ,CAACuC,IAAD,WAACA,IAAD,GAAS,YAAT,CAAzB;;AAJ6D,kBAQjBG,eAAQ,CAACT,YAAD,EAAe;AACjEU,IAAAA,SAAS,EAAE;AACTC,MAAAA,OAAO,EAAE;AAAER,QAAAA,IAAI,EAAEA;AAAR,OADA;AAETA,MAAAA,IAAI,EAAJA,IAFS;AAGTI,MAAAA,MAAM,EAANA,MAHS;AAITC,MAAAA,QAAQ,EAARA;AAJS;AADsD,GAAf,CARS;AAAA,MAQrDI,OARqD,aAQrDA,OARqD;AAAA,MAQ5CC,KAR4C,aAQ5CA,KAR4C;AAAA,MAQrCxF,IARqC,aAQrCA,IARqC;AAAA,MAQ/ByF,SAR+B,aAQ/BA,SAR+B;;AAiB7D,MAAIF,OAAJ,EAAa,oBAAOxE,qDAAP;AACb,MAAIyE,KAAJ,EAAW,oBAAOzE,mDAAP;AAEX,MAAMuE,OAAO,GAAGtF,IAAI,CAACsF,OAArB;AACA,MAAMvG,QAAQ,GAAGiB,IAAI,CAACjB,QAAL,CAAc2G,KAA/B;AAEAD,EAAAA,SAAS,CAAC;AACRJ,IAAAA,SAAS,EAAE;AACTH,MAAAA,MAAM,EAAElF,IAAI,CAACjB,QAAL,CAAc2G,KAAd,CAAoBlF;AADnB,KADH;AAIRmF,IAAAA,WAAW,EAAE,qBAACC,IAAD,SAA+B;AAAA,UAAtBC,eAAsB,SAAtBA,eAAsB;AAC1C,UAAI,CAACA,eAAL,EAAsB,OAAOD,IAAP;AAEtBC,MAAAA,eAAe,CAAC9G,QAAhB,CAAyB2G,KAAzB,GAAiCE,IAAI,CAAC7G,QAAL,CAAc2G,KAAd,CAAoBI,MAApB,CAC/BD,eAAe,CAAC9G,QAAhB,CAAyB2G,KADM,CAAjC;AAIA,aAAOK,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,eAAlB,CAAP;AACD;AAZO,GAAD,CAAT,CAaGI,IAbH,CAaQ,UAACC,GAAD,EAAS;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBF,GAAnB;AACD,GAfD;;AAiBA,MAAI,CAAClB,QAAL,EAAe;AACbA,IAAAA,QAAQ,GAAG,EAAX;AACD;;AAED,MAAI,CAACD,MAAL,EAAa;AACXA,IAAAA,MAAM,GAAG,IAAT;AACD;;AAED,sBACEhE,6BAACsF,sBAAD;AAAc,IAAA,MAAM,EAAEtB,MAAtB;AAA8B,IAAA,aAAa,EAAC,IAA5C;AAAiD,IAAA,QAAQ,EAAEC;AAA3D,kBACEjE;AAAK,IAAA,SAAS,EAAEK,OAAO,CAACnD;AAAxB,kBACE8C;AAAK,IAAA,SAAS,EAAEK,OAAO,CAACzE;AAAxB,kBACEoE;AAAI,IAAA,SAAS,EAAEK,OAAO,CAACrE;AAAvB,kBACEgE;AAAK,IAAA,SAAS,EAAEK,OAAO,CAACvE,YAAxB;AAAsC,IAAA,GAAG,EAAEyI,OAAO,CAACgB,QAAnD;AAA6D,IAAA,GAAG,EAAC;AAAjE,IADF,EAEGhB,OAAO,CAACiB,IAFX,CADF,CADF,eAOExF;AAAK,IAAA,SAAS,EAAEK,OAAO,CAACpF;AAAxB,kBACE+E;AAAI,IAAA,SAAS,EAAEK,OAAO,CAACnF;AAAvB,kBACE8E,6BAACyF,0BAAD;AACE,IAAA,EAAE,EAAC,iBADL;AAEE,IAAA,cAAc,EAAC,0BAFjB;AAGE,IAAA,MAAM,EAAE;AACNvB,MAAAA,IAAI,EAAEzF,MAAM,CAAC2F,QAAD,EAAW,YAAX,CAAN,CAA+B1F,MAA/B,CAAsC,YAAtC;AADA;AAHV,IADF,CADF,eAUEsB,6BAAC,IAAD;AAAM,IAAA,SAAS,EAAEK,OAAO,CAAC9E,MAAzB;AAAiC,IAAA,SAAS,MAA1C;AAA2C,IAAA,OAAO,EAAE;AAApD,kBACEyE,6BAAC,IAAD;AAAM,IAAA,SAAS,EAAEK,OAAO,CAAC5E,WAAzB;AAAsC,IAAA,IAAI,MAA1C;AAA2C,IAAA,EAAE,EAAE,EAA/C;AAAmD,IAAA,EAAE,EAAE;AAAvD,kBACEuE,6BAAC,QAAD;AAAU,IAAA,QAAQ,EAAEhC,QAApB;AAA8B,IAAA,KAAK,EAAEC,KAArC;AAA4C,IAAA,MAAM,EAAElC;AAApD,IADF,CADF,eAIEiE,6BAAC,IAAD;AAAM,IAAA,SAAS,EAAEK,OAAO,CAAC3E,WAAzB;AAAsC,IAAA,IAAI,MAA1C;AAA2C,IAAA,EAAE,EAAE,EAA/C;AAAmD,IAAA,EAAE,EAAE;AAAvD,kBACEsE,6BAAC,QAAD;AAAU,IAAA,QAAQ,EAAEhC,QAApB;AAA8B,IAAA,KAAK,EAAEC,KAArC;AAA4C,IAAA,MAAM,EAAElC;AAApD,IADF,CAJF,eAOEiE,6BAAC,IAAD;AAAM,IAAA,SAAS,EAAEK,OAAO,CAAC1E,aAAzB;AAAwC,IAAA,IAAI,MAA5C;AAA6C,IAAA,EAAE,EAAE;AAAjD,kBACEqE,6BAAC,aAAD;AAAe,IAAA,QAAQ,EAAEhC,QAAzB;AAAmC,IAAA,KAAK,EAAEC,KAA1C;AAAiD,IAAA,MAAM,EAAElC;AAAzD,IADF,CAPF,CAVF,CAPF,CADF,CADF;AAkCD,CAlFD;;;;"}
=======
{"version":3,"file":"index.js","sources":["../src/utils/generateRainbow.js","../src/components/BarChart.js","../src/components/ExpensesTable.js","../src/components/PieChart.js","../src/index.js"],"sourcesContent":["/**\n * Helpers to generate a Rainbow between a number of step\n * @param numOfSteps\n * @param step\n * @returns {string}\n */\nexport default (numOfSteps, step) => {\n  let r, g, b\n  const h = step / numOfSteps\n  const i = ~~(h * 6)\n  const f = h * 6 - i\n  const q = 1 - f\n  switch (i % 6) {\n    case 0:\n      r = 1\n      g = f\n      b = 0\n      break\n    case 1:\n      r = q\n      g = 1\n      b = 0\n      break\n    case 2:\n      r = 0\n      g = 1\n      b = f\n      break\n    case 3:\n      r = 0\n      g = q\n      b = 1\n      break\n    case 4:\n      r = f\n      g = 0\n      b = 1\n      break\n    case 5:\n      r = 1\n      g = 0\n      b = q\n      break\n  }\n  return `#${`00${(~~(r * 255)).toString(16)}`.slice(-2)}${`00${(~~(\n    g * 255\n  )).toString(16)}`.slice(-2)}${`00${(~~(b * 255)).toString(16)}`.slice(-2)}`\n}\n","import React from 'react'\nimport { orderBy } from 'lodash'\nimport moment from 'moment'\nimport generateRainbow from '../utils/generateRainbow'\nimport { Bar } from 'react-chartjs-2'\n\n/**\n * BarChart formatter for expenses\n * @param expenses\n * @param width\n * @param height\n * @returns {JSX.Element}\n * @constructor\n */\nconst BarChart = ({ expenses, width, height }) => {\n  const periods = []\n  const cats = []\n\n  expenses = orderBy(expenses, (item) => item.createdAt)\n\n  expenses.map((item) => {\n    // eslint-disable-next-line new-cap\n    const month = new moment(item.createdAt).format('MM/YYYY')\n\n    let monthKey = periods.findIndex((i) => i === month)\n\n    if (monthKey === -1) {\n      monthKey = periods.push(month)\n      monthKey--\n    } else {\n    }\n\n    console.log('Month', monthKey)\n\n    let catKey = cats.findIndex((i) => i.label === item.tags[0])\n\n    if (catKey === -1) {\n      if (typeof item.tags[0] !== 'undefined') {\n        catKey = cats.push({\n          label: item.tags[0],\n          data: [],\n          backgroundColor: null,\n          borderColor: null,\n          borderWidth: 1,\n          stack: 'default'\n        })\n\n        catKey = catKey - 1\n      }\n    }\n\n    if (typeof cats[catKey] !== 'undefined') {\n      if (typeof cats[catKey].data[monthKey] === 'undefined') {\n        cats[catKey].data[monthKey] = 0\n      }\n\n      cats[catKey].data[monthKey] += item.amount / 100\n    }\n  })\n\n  cats.map((i, k) => {\n    cats[k].backgroundColor = generateRainbow(cats.length, k)\n    cats[k].borderColor = generateRainbow(cats.length, k)\n  })\n\n  const formattedData = {\n    labels: periods,\n    datasets: cats\n  }\n\n  return (\n    <Bar\n      data={formattedData}\n      options={{\n        responsive: true,\n        maintainAspectRatio: true,\n        aspectRatio: 2\n      }}\n    />\n  )\n}\n\nexport default BarChart\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableFooter from '@material-ui/core/TableFooter'\nimport TablePagination from '@material-ui/core/TablePagination'\nimport Paper from '@material-ui/core/Paper'\nimport IconButton from '@material-ui/core/IconButton'\nimport FirstPageIcon from '@material-ui/icons/FirstPage'\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft'\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight'\nimport LastPageIcon from '@material-ui/icons/LastPage'\n\nconst useStyles1 = makeStyles((theme) => ({\n  root: {\n    flexShrink: 0,\n    marginLeft: theme.spacing(2.5)\n  }\n}))\n\nfunction TablePaginationActions(props) {\n  const classes = useStyles1()\n  const theme = useTheme()\n  const { count, page, rowsPerPage, onChangePage } = props\n\n  const handleFirstPageButtonClick = (event) => {\n    onChangePage(event, 0)\n  }\n\n  const handleBackButtonClick = (event) => {\n    onChangePage(event, page - 1)\n  }\n\n  const handleNextButtonClick = (event) => {\n    onChangePage(event, page + 1)\n  }\n\n  const handleLastPageButtonClick = (event) => {\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1))\n  }\n\n  return (\n    <div className={classes.root}>\n      <IconButton\n        onClick={handleFirstPageButtonClick}\n        disabled={page === 0}\n        aria-label='first page'\n      >\n        {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\n      </IconButton>\n      <IconButton\n        onClick={handleBackButtonClick}\n        disabled={page === 0}\n        aria-label='previous page'\n      >\n        {theme.direction === 'rtl' ? (\n          <KeyboardArrowRight />\n        ) : (\n          <KeyboardArrowLeft />\n        )}\n      </IconButton>\n      <IconButton\n        onClick={handleNextButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label='next page'\n      >\n        {theme.direction === 'rtl' ? (\n          <KeyboardArrowLeft />\n        ) : (\n          <KeyboardArrowRight />\n        )}\n      </IconButton>\n      <IconButton\n        onClick={handleLastPageButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label='last page'\n      >\n        {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\n      </IconButton>\n    </div>\n  )\n}\n\nTablePaginationActions.propTypes = {\n  count: PropTypes.number.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  rowsPerPage: PropTypes.number.isRequired\n}\n\n/**\n * ExpensesTable formatter\n * @param expenses\n * @param width\n * @param height\n * @returns {JSX.Element}\n * @constructor\n */\nconst ExpensesTable = ({ expenses, width, height }) => {\n  const rows = expenses\n  const [page, setPage] = React.useState(0)\n  const [rowsPerPage, setRowsPerPage] = React.useState(5)\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage)\n  }\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10))\n    setPage(0)\n  }\n\n  const emptyRows =\n    rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage)\n\n  return (\n    <TableContainer component={Paper}>\n      <Table aria-label='simple table'>\n        <TableHead>\n          <TableRow>\n            <TableCell align='left'>Description</TableCell>\n            <TableCell align='left'>Amount</TableCell>\n            <TableCell align='right'>Status</TableCell>\n            <TableCell align='right'>Tags</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {(rowsPerPage > 0\n            ? rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n            : rows\n          ).map((row) => (\n            <TableRow key={row.id}>\n              <TableCell component='th' scope='row'>\n                {row.description}\n              </TableCell>\n              <TableCell style={{ width: 160 }} align='right'>\n                {row.amount / 100} {row.currency}\n              </TableCell>\n              <TableCell style={{ width: 160 }} align='right'>\n                {row.status}\n              </TableCell>\n              <TableCell style={{ width: 160 }} align='right'>\n                {row.tags}\n              </TableCell>\n            </TableRow>\n          ))}\n\n          {emptyRows > 0 && (\n            <TableRow style={{ height: 53 * emptyRows }}>\n              <TableCell colSpan={6} />\n            </TableRow>\n          )}\n        </TableBody>\n        <TableFooter>\n          <TableRow>\n            <TablePagination\n              rowsPerPageOptions={[5, 10, 25, { label: 'All', value: -1 }]}\n              colSpan={3}\n              count={rows.length}\n              rowsPerPage={rowsPerPage}\n              page={page}\n              SelectProps={{\n                inputProps: { 'aria-label': 'rows per page' },\n                native: true\n              }}\n              onChangePage={handleChangePage}\n              onChangeRowsPerPage={handleChangeRowsPerPage}\n              ActionsComponent={TablePaginationActions}\n            />\n          </TableRow>\n        </TableFooter>\n      </Table>\n    </TableContainer>\n  )\n}\n\nexport default ExpensesTable\n","import React from 'react'\nimport { orderBy } from 'lodash'\nimport generateRainbow from '../utils/generateRainbow'\nimport { Doughnut } from 'react-chartjs-2'\n\n/**\n * Format a PieChart with the OpenCollective expenses data\n * @param expenses\n * @param width\n * @param height\n * @returns {JSX.Element}\n * @constructor\n */\nconst PieChart = ({ expenses, width, height }) => {\n  const labels = []\n  const datasets = [\n    {\n      data: [],\n      backgroundColor: [],\n      hoverBackgroundColor: []\n    }\n  ]\n\n  expenses = orderBy(expenses, (item) => item.createdAt)\n\n  expenses.map((item) => {\n    // eslint-disable-next-line new-cap\n    const label = item.tags[0] ?? 'undefined'\n\n    let labelKey = labels.findIndex((i) => i === label)\n\n    if (labelKey === -1) {\n      labelKey = labels.push(label)\n      datasets[0].data[labelKey - 1] = item.amount / 100\n    } else {\n      datasets[0].data[labelKey] += item.amount / 100\n    }\n  })\n\n  labels.map((i, k) => {\n    datasets[0].backgroundColor[k] = generateRainbow(labels.length, k)\n    datasets[0].hoverBackgroundColor[k] = generateRainbow(labels.length, k)\n  })\n\n  const formattedData = {\n    labels: labels,\n    datasets: datasets\n  }\n\n  return (\n    <Doughnut\n      data={formattedData}\n      options={{\n        maintainAspectRatio: true,\n        aspectRatio: 1,\n        responsive: true\n      }}\n    />\n  )\n}\n\nexport default PieChart\n","import React, { useState } from 'react'\nimport styles from './styles.module.css'\nimport { useQuery, gql } from '@apollo/client'\nimport { IntlProvider } from 'react-intl'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport BarChart from './components/BarChart'\nimport ExpensesTable from './components/ExpensesTable'\nimport PieChart from './components/PieChart'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1\n  },\n  paper: {\n    height: 140,\n    width: 100\n  },\n  control: {\n    padding: theme.spacing(2)\n  }\n}))\n\nconst ALL_EXPENSES = gql`\n  query ExpensesPage(\n    $account: AccountReferenceInput!\n    $slug: String!\n    $offset: Int!\n    $dateFrom: ISODateTime!\n  ) {\n    expenses(\n      account: $account\n      orderBy: { field: CREATED_AT, direction: ASC }\n      offset: $offset\n      limit: 100\n      status: PAID\n      dateFrom: $dateFrom\n    ) {\n      offset\n      totalCount\n      limit\n      nodes {\n        id\n        amount\n        tags\n        description\n        currency\n        status\n        createdAt\n      }\n    }\n    account(slug: $slug) {\n      id\n      imageUrl\n      name\n    }\n  }\n`\n/**\n * Transparency page component\n * @param slug The account slug\n * @returns {JSX.Element}\n * @constructor\n */\nconst TransparencyPage = ({ slug, locale, messages, date }) => {\n  const classes = useStyles()\n  const [width] = useState(800)\n  const [height] = useState(300)\n  const offset = 0\n  const dateFrom = useState(date ?? '2001-01-01')\n  /**\n   * Get all expenses\n   */\n  const { loading, error, data, fetchMore } = useQuery(ALL_EXPENSES, {\n    variables: {\n      account: { slug: slug },\n      slug,\n      offset,\n      dateFrom\n    }\n  })\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>Error :(</p>\n\n  const account = data.account\n\n  const expenses = data.expenses.nodes\n\n  fetchMore({\n    variables: {\n      offset: data.expenses.nodes.length\n    },\n    updateQuery: (prev, { fetchMoreResult }) => {\n      if (!fetchMoreResult) return prev\n\n      fetchMoreResult.expenses.nodes = prev.expenses.nodes.concat(\n        fetchMoreResult.expenses.nodes\n      )\n\n      return Object.assign({}, fetchMoreResult)\n    }\n  }).then((res) => {\n    console.log('Res', res)\n  })\n\n  if (!messages) {\n    messages = {}\n  }\n\n  if (!locale) {\n    locale = 'en'\n  }\n\n  return (\n    <IntlProvider locale={locale} defaultLocale='en' messages={messages}>\n      <div className={styles.container}>\n        <div className='logo'>\n          <img className={styles.header__logo} src={account.imageUrl} alt='' />\n        </div>\n        <h1 className='title'>{account.name}</h1>\n        <div className='content' style={{ position: 'relative' }}>\n          {/* <h2>\n            <FormattedMessage\n              id='allExpensesFrom'\n              defaultMessage='All expenses from {date}'\n              values={{\n                date: moment(dateFrom, 'YYYY-MM-DD').format('DD/MM/YYYY')\n              }}\n            />\n          </h2> */}\n          <Grid container className={classes.root} spacing={2}>\n            <Grid\n              item\n              xs={12}\n              sm={12}\n              md={8}\n              lg={8}\n              style={{ position: 'relative', minHeight: 100, minWidth: 500 }}\n            >\n              <BarChart expenses={expenses} />\n            </Grid>\n            <Grid\n              item\n              xs={12}\n              sm={12}\n              md={4}\n              lg={4}\n              style={{ position: 'relative', minHeight: 500, minWidth: 500 }}\n            >\n              <PieChart expenses={expenses} />\n            </Grid>\n          </Grid>\n          <ExpensesTable expenses={expenses} width={width} height={height} />\n        </div>\n      </div>\n    </IntlProvider>\n  )\n}\n\nexport * from './components/BarChart'\nexport * from './components/PieChart'\nexport * from './components/ExpensesTable'\n\nexport default TransparencyPage\n"],"names":["numOfSteps","step","r","g","b","h","i","f","q","toString","slice","BarChart","expenses","periods","cats","orderBy","item","createdAt","map","month","moment","format","monthKey","findIndex","push","console","log","catKey","label","tags","data","backgroundColor","borderColor","borderWidth","stack","amount","k","generateRainbow","length","formattedData","labels","datasets","React","Bar","responsive","maintainAspectRatio","aspectRatio","useStyles1","makeStyles","theme","root","flexShrink","marginLeft","spacing","TablePaginationActions","props","classes","useTheme","count","page","rowsPerPage","onChangePage","handleFirstPageButtonClick","event","handleBackButtonClick","handleNextButtonClick","handleLastPageButtonClick","Math","max","ceil","direction","propTypes","PropTypes","number","isRequired","func","ExpensesTable","rows","useState","setPage","setRowsPerPage","handleChangePage","newPage","handleChangeRowsPerPage","parseInt","target","value","emptyRows","min","Paper","row","id","description","width","currency","status","height","inputProps","PieChart","hoverBackgroundColor","labelKey","Doughnut","useStyles","flexGrow","paper","control","padding","ALL_EXPENSES","gql","TransparencyPage","slug","locale","messages","date","offset","dateFrom","useQuery","variables","account","loading","error","fetchMore","nodes","updateQuery","prev","fetchMoreResult","concat","Object","assign","then","res","IntlProvider","styles","container","header__logo","imageUrl","name","position","minHeight","minWidth"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,uBAAe,UAACA,UAAD,EAAaC,IAAb,EAAsB;AACnC,MAAIC,CAAJ,EAAOC,CAAP,EAAUC,CAAV;AACA,MAAMC,CAAC,GAAGJ,IAAI,GAAGD,UAAjB;AACA,MAAMM,CAAC,GAAG,CAAC,EAAED,CAAC,GAAG,CAAN,CAAX;AACA,MAAME,CAAC,GAAGF,CAAC,GAAG,CAAJ,GAAQC,CAAlB;AACA,MAAME,CAAC,GAAG,IAAID,CAAd;;AACA,UAAQD,CAAC,GAAG,CAAZ;AACE,SAAK,CAAL;AACEJ,MAAAA,CAAC,GAAG,CAAJ;AACAC,MAAAA,CAAC,GAAGI,CAAJ;AACAH,MAAAA,CAAC,GAAG,CAAJ;AACA;;AACF,SAAK,CAAL;AACEF,MAAAA,CAAC,GAAGM,CAAJ;AACAL,MAAAA,CAAC,GAAG,CAAJ;AACAC,MAAAA,CAAC,GAAG,CAAJ;AACA;;AACF,SAAK,CAAL;AACEF,MAAAA,CAAC,GAAG,CAAJ;AACAC,MAAAA,CAAC,GAAG,CAAJ;AACAC,MAAAA,CAAC,GAAGG,CAAJ;AACA;;AACF,SAAK,CAAL;AACEL,MAAAA,CAAC,GAAG,CAAJ;AACAC,MAAAA,CAAC,GAAGK,CAAJ;AACAJ,MAAAA,CAAC,GAAG,CAAJ;AACA;;AACF,SAAK,CAAL;AACEF,MAAAA,CAAC,GAAGK,CAAJ;AACAJ,MAAAA,CAAC,GAAG,CAAJ;AACAC,MAAAA,CAAC,GAAG,CAAJ;AACA;;AACF,SAAK,CAAL;AACEF,MAAAA,CAAC,GAAG,CAAJ;AACAC,MAAAA,CAAC,GAAG,CAAJ;AACAC,MAAAA,CAAC,GAAGI,CAAJ;AACA;AA9BJ;;AAgCA,eAAW,QAAK,CAAC,CAAC,EAAEN,CAAC,GAAG,GAAN,CAAF,EAAcO,QAAd,CAAuB,EAAvB,CAAL,EAAkCC,KAAlC,CAAwC,CAAC,CAAzC,CAAX,GAAyD,QAAK,CAAC,CAAC,EAC9DP,CAAC,GAAG,GAD0D,CAAF,EAE3DM,QAF2D,CAElD,EAFkD,CAAL,EAEvCC,KAFuC,CAEjC,CAAC,CAFgC,CAAzD,GAE8B,QAAK,CAAC,CAAC,EAAEN,CAAC,GAAG,GAAN,CAAF,EAAcK,QAAd,CAAuB,EAAvB,CAAL,EAAkCC,KAAlC,CAAwC,CAAC,CAAzC,CAF9B;AAGD,CAzCD;;ACQA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,OAAiC;AAAA,MAA9BC,QAA8B,QAA9BA,QAA8B;AAChD,MAAMC,OAAO,GAAG,EAAhB;AACA,MAAMC,IAAI,GAAG,EAAb;AAEAF,EAAAA,QAAQ,GAAGG,cAAO,CAACH,QAAD,EAAW,UAACI,IAAD;AAAA,WAAUA,IAAI,CAACC,SAAf;AAAA,GAAX,CAAlB;AAEAL,EAAAA,QAAQ,CAACM,GAAT,CAAa,UAACF,IAAD,EAAU;AAErB,QAAMG,KAAK,GAAG,IAAIC,MAAJ,CAAWJ,IAAI,CAACC,SAAhB,EAA2BI,MAA3B,CAAkC,SAAlC,CAAd;AAEA,QAAIC,QAAQ,GAAGT,OAAO,CAACU,SAAR,CAAkB,UAACjB,CAAD;AAAA,aAAOA,CAAC,KAAKa,KAAb;AAAA,KAAlB,CAAf;;AAEA,QAAIG,QAAQ,KAAK,CAAC,CAAlB,EAAqB;AACnBA,MAAAA,QAAQ,GAAGT,OAAO,CAACW,IAAR,CAAaL,KAAb,CAAX;AACAG,MAAAA,QAAQ;AACT,KAHD;;AAMAG,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,QAArB;AAEA,QAAIK,MAAM,GAAGb,IAAI,CAACS,SAAL,CAAe,UAACjB,CAAD;AAAA,aAAOA,CAAC,CAACsB,KAAF,KAAYZ,IAAI,CAACa,IAAL,CAAU,CAAV,CAAnB;AAAA,KAAf,CAAb;;AAEA,QAAIF,MAAM,KAAK,CAAC,CAAhB,EAAmB;AACjB,UAAI,OAAOX,IAAI,CAACa,IAAL,CAAU,CAAV,CAAP,KAAwB,WAA5B,EAAyC;AACvCF,QAAAA,MAAM,GAAGb,IAAI,CAACU,IAAL,CAAU;AACjBI,UAAAA,KAAK,EAAEZ,IAAI,CAACa,IAAL,CAAU,CAAV,CADU;AAEjBC,UAAAA,IAAI,EAAE,EAFW;AAGjBC,UAAAA,eAAe,EAAE,IAHA;AAIjBC,UAAAA,WAAW,EAAE,IAJI;AAKjBC,UAAAA,WAAW,EAAE,CALI;AAMjBC,UAAAA,KAAK,EAAE;AANU,SAAV,CAAT;AASAP,QAAAA,MAAM,GAAGA,MAAM,GAAG,CAAlB;AACD;AACF;;AAED,QAAI,OAAOb,IAAI,CAACa,MAAD,CAAX,KAAwB,WAA5B,EAAyC;AACvC,UAAI,OAAOb,IAAI,CAACa,MAAD,CAAJ,CAAaG,IAAb,CAAkBR,QAAlB,CAAP,KAAuC,WAA3C,EAAwD;AACtDR,QAAAA,IAAI,CAACa,MAAD,CAAJ,CAAaG,IAAb,CAAkBR,QAAlB,IAA8B,CAA9B;AACD;;AAEDR,MAAAA,IAAI,CAACa,MAAD,CAAJ,CAAaG,IAAb,CAAkBR,QAAlB,KAA+BN,IAAI,CAACmB,MAAL,GAAc,GAA7C;AACD;AACF,GAtCD;AAwCArB,EAAAA,IAAI,CAACI,GAAL,CAAS,UAACZ,CAAD,EAAI8B,CAAJ,EAAU;AACjBtB,IAAAA,IAAI,CAACsB,CAAD,CAAJ,CAAQL,eAAR,GAA0BM,eAAe,CAACvB,IAAI,CAACwB,MAAN,EAAcF,CAAd,CAAzC;AACAtB,IAAAA,IAAI,CAACsB,CAAD,CAAJ,CAAQJ,WAAR,GAAsBK,eAAe,CAACvB,IAAI,CAACwB,MAAN,EAAcF,CAAd,CAArC;AACD,GAHD;AAKA,MAAMG,aAAa,GAAG;AACpBC,IAAAA,MAAM,EAAE3B,OADY;AAEpB4B,IAAAA,QAAQ,EAAE3B;AAFU,GAAtB;AAKA,sBACE4B,6BAACC,iBAAD;AACE,IAAA,IAAI,EAAEJ,aADR;AAEE,IAAA,OAAO,EAAE;AACPK,MAAAA,UAAU,EAAE,IADL;AAEPC,MAAAA,mBAAmB,EAAE,IAFd;AAGPC,MAAAA,WAAW,EAAE;AAHN;AAFX,IADF;AAUD,CAlED;;ACIA,IAAMC,UAAU,GAAGC,mBAAU,CAAC,UAACC,KAAD;AAAA,SAAY;AACxCC,IAAAA,IAAI,EAAE;AACJC,MAAAA,UAAU,EAAE,CADR;AAEJC,MAAAA,UAAU,EAAEH,KAAK,CAACI,OAAN,CAAc,GAAd;AAFR;AADkC,GAAZ;AAAA,CAAD,CAA7B;;AAOA,SAASC,sBAAT,CAAgCC,KAAhC,EAAuC;AACrC,MAAMC,OAAO,GAAGT,UAAU,EAA1B;AACA,MAAME,KAAK,GAAGQ,iBAAQ,EAAtB;AAFqC,MAG7BC,KAH6B,GAGcH,KAHd,CAG7BG,KAH6B;AAAA,MAGtBC,IAHsB,GAGcJ,KAHd,CAGtBI,IAHsB;AAAA,MAGhBC,WAHgB,GAGcL,KAHd,CAGhBK,WAHgB;AAAA,MAGHC,YAHG,GAGcN,KAHd,CAGHM,YAHG;;AAKrC,MAAMC,0BAA0B,GAAG,SAA7BA,0BAA6B,CAACC,KAAD,EAAW;AAC5CF,IAAAA,YAAY,CAACE,KAAD,EAAQ,CAAR,CAAZ;AACD,GAFD;;AAIA,MAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACD,KAAD,EAAW;AACvCF,IAAAA,YAAY,CAACE,KAAD,EAAQJ,IAAI,GAAG,CAAf,CAAZ;AACD,GAFD;;AAIA,MAAMM,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACF,KAAD,EAAW;AACvCF,IAAAA,YAAY,CAACE,KAAD,EAAQJ,IAAI,GAAG,CAAf,CAAZ;AACD,GAFD;;AAIA,MAAMO,yBAAyB,GAAG,SAA5BA,yBAA4B,CAACH,KAAD,EAAW;AAC3CF,IAAAA,YAAY,CAACE,KAAD,EAAQI,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYD,IAAI,CAACE,IAAL,CAAUX,KAAK,GAAGE,WAAlB,IAAiC,CAA7C,CAAR,CAAZ;AACD,GAFD;;AAIA,sBACElB;AAAK,IAAA,SAAS,EAAEc,OAAO,CAACN;AAAxB,kBACER,6BAAC,UAAD;AACE,IAAA,OAAO,EAAEoB,0BADX;AAEE,IAAA,QAAQ,EAAEH,IAAI,KAAK,CAFrB;AAGE,kBAAW;AAHb,KAKGV,KAAK,CAACqB,SAAN,KAAoB,KAApB,gBAA4B5B,6BAAC,YAAD,OAA5B,gBAA+CA,6BAAC,aAAD,OALlD,CADF,eAQEA,6BAAC,UAAD;AACE,IAAA,OAAO,EAAEsB,qBADX;AAEE,IAAA,QAAQ,EAAEL,IAAI,KAAK,CAFrB;AAGE,kBAAW;AAHb,KAKGV,KAAK,CAACqB,SAAN,KAAoB,KAApB,gBACC5B,6BAAC,kBAAD,OADD,gBAGCA,6BAAC,iBAAD,OARJ,CARF,eAmBEA,6BAAC,UAAD;AACE,IAAA,OAAO,EAAEuB,qBADX;AAEE,IAAA,QAAQ,EAAEN,IAAI,IAAIQ,IAAI,CAACE,IAAL,CAAUX,KAAK,GAAGE,WAAlB,IAAiC,CAFrD;AAGE,kBAAW;AAHb,KAKGX,KAAK,CAACqB,SAAN,KAAoB,KAApB,gBACC5B,6BAAC,iBAAD,OADD,gBAGCA,6BAAC,kBAAD,OARJ,CAnBF,eA8BEA,6BAAC,UAAD;AACE,IAAA,OAAO,EAAEwB,yBADX;AAEE,IAAA,QAAQ,EAAEP,IAAI,IAAIQ,IAAI,CAACE,IAAL,CAAUX,KAAK,GAAGE,WAAlB,IAAiC,CAFrD;AAGE,kBAAW;AAHb,KAKGX,KAAK,CAACqB,SAAN,KAAoB,KAApB,gBAA4B5B,6BAAC,aAAD,OAA5B,gBAAgDA,6BAAC,YAAD,OALnD,CA9BF,CADF;AAwCD;;AAEDY,sBAAsB,CAACiB,SAAvB,GAAmC;AACjCb,EAAAA,KAAK,EAAEc,SAAS,CAACC,MAAV,CAAiBC,UADS;AAEjCb,EAAAA,YAAY,EAAEW,SAAS,CAACG,IAAV,CAAeD,UAFI;AAGjCf,EAAAA,IAAI,EAAEa,SAAS,CAACC,MAAV,CAAiBC,UAHU;AAIjCd,EAAAA,WAAW,EAAEY,SAAS,CAACC,MAAV,CAAiBC;AAJG,CAAnC;;AAeA,IAAME,aAAa,GAAG,SAAhBA,aAAgB,OAAiC;AAAA,MAA9BhE,QAA8B,QAA9BA,QAA8B;AACrD,MAAMiE,IAAI,GAAGjE,QAAb;;AADqD,wBAE7B8B,cAAK,CAACoC,QAAN,CAAe,CAAf,CAF6B;AAAA,MAE9CnB,IAF8C;AAAA,MAExCoB,OAFwC;;AAAA,yBAGfrC,cAAK,CAACoC,QAAN,CAAe,CAAf,CAHe;AAAA,MAG9ClB,WAH8C;AAAA,MAGjCoB,cAHiC;;AAKrD,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAClB,KAAD,EAAQmB,OAAR,EAAoB;AAC3CH,IAAAA,OAAO,CAACG,OAAD,CAAP;AACD,GAFD;;AAIA,MAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACpB,KAAD,EAAW;AACzCiB,IAAAA,cAAc,CAACI,QAAQ,CAACrB,KAAK,CAACsB,MAAN,CAAaC,KAAd,EAAqB,EAArB,CAAT,CAAd;AACAP,IAAAA,OAAO,CAAC,CAAD,CAAP;AACD,GAHD;;AAKA,MAAMQ,SAAS,GACb3B,WAAW,GAAGO,IAAI,CAACqB,GAAL,CAAS5B,WAAT,EAAsBiB,IAAI,CAACvC,MAAL,GAAcqB,IAAI,GAAGC,WAA3C,CADhB;AAGA,sBACElB,6BAAC,cAAD;AAAgB,IAAA,SAAS,EAAE+C;AAA3B,kBACE/C,6BAAC,KAAD;AAAO,kBAAW;AAAlB,kBACEA,6BAAC,SAAD,qBACEA,6BAAC,QAAD,qBACEA,6BAAC,SAAD;AAAW,IAAA,KAAK,EAAC;AAAjB,mBADF,eAEEA,6BAAC,SAAD;AAAW,IAAA,KAAK,EAAC;AAAjB,cAFF,eAGEA,6BAAC,SAAD;AAAW,IAAA,KAAK,EAAC;AAAjB,cAHF,eAIEA,6BAAC,SAAD;AAAW,IAAA,KAAK,EAAC;AAAjB,YAJF,CADF,CADF,eASEA,6BAAC,SAAD,QACG,CAACkB,WAAW,GAAG,CAAd,GACEiB,IAAI,CAACnE,KAAL,CAAWiD,IAAI,GAAGC,WAAlB,EAA+BD,IAAI,GAAGC,WAAP,GAAqBA,WAApD,CADF,GAEEiB,IAFH,EAGC3D,GAHD,CAGK,UAACwE,GAAD;AAAA,wBACJhD,6BAAC,QAAD;AAAU,MAAA,GAAG,EAAEgD,GAAG,CAACC;AAAnB,oBACEjD,6BAAC,SAAD;AAAW,MAAA,SAAS,EAAC,IAArB;AAA0B,MAAA,KAAK,EAAC;AAAhC,OACGgD,GAAG,CAACE,WADP,CADF,eAIElD,6BAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAAEmD,QAAAA,KAAK,EAAE;AAAT,OAAlB;AAAkC,MAAA,KAAK,EAAC;AAAxC,OACGH,GAAG,CAACvD,MAAJ,GAAa,GADhB,OACsBuD,GAAG,CAACI,QAD1B,CAJF,eAOEpD,6BAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAAEmD,QAAAA,KAAK,EAAE;AAAT,OAAlB;AAAkC,MAAA,KAAK,EAAC;AAAxC,OACGH,GAAG,CAACK,MADP,CAPF,eAUErD,6BAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAAEmD,QAAAA,KAAK,EAAE;AAAT,OAAlB;AAAkC,MAAA,KAAK,EAAC;AAAxC,OACGH,GAAG,CAAC7D,IADP,CAVF,CADI;AAAA,GAHL,CADH,EAqBG0D,SAAS,GAAG,CAAZ,iBACC7C,6BAAC,QAAD;AAAU,IAAA,KAAK,EAAE;AAAEsD,MAAAA,MAAM,EAAE,KAAKT;AAAf;AAAjB,kBACE7C,6BAAC,SAAD;AAAW,IAAA,OAAO,EAAE;AAApB,IADF,CAtBJ,CATF,eAoCEA,6BAAC,WAAD,qBACEA,6BAAC,QAAD,qBACEA,6BAAC,eAAD;AACE,IAAA,kBAAkB,EAAE,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY;AAAEd,MAAAA,KAAK,EAAE,KAAT;AAAgB0D,MAAAA,KAAK,EAAE,CAAC;AAAxB,KAAZ,CADtB;AAEE,IAAA,OAAO,EAAE,CAFX;AAGE,IAAA,KAAK,EAAET,IAAI,CAACvC,MAHd;AAIE,IAAA,WAAW,EAAEsB,WAJf;AAKE,IAAA,IAAI,EAAED,IALR;AAME,IAAA,WAAW,EAAE;AACXsC,MAAAA,UAAU,EAAE;AAAE,sBAAc;AAAhB,OADD;AAEX,gBAAQ;AAFG,KANf;AAUE,IAAA,YAAY,EAAEhB,gBAVhB;AAWE,IAAA,mBAAmB,EAAEE,uBAXvB;AAYE,IAAA,gBAAgB,EAAE7B;AAZpB,IADF,CADF,CApCF,CADF,CADF;AA2DD,CA5ED;;AC1FA,IAAM4C,QAAQ,GAAG,SAAXA,QAAW,OAAiC;AAAA,MAA9BtF,QAA8B,QAA9BA,QAA8B;AAChD,MAAM4B,MAAM,GAAG,EAAf;AACA,MAAMC,QAAQ,GAAG,CACf;AACEX,IAAAA,IAAI,EAAE,EADR;AAEEC,IAAAA,eAAe,EAAE,EAFnB;AAGEoE,IAAAA,oBAAoB,EAAE;AAHxB,GADe,CAAjB;AAQAvF,EAAAA,QAAQ,GAAGG,cAAO,CAACH,QAAD,EAAW,UAACI,IAAD;AAAA,WAAUA,IAAI,CAACC,SAAf;AAAA,GAAX,CAAlB;AAEAL,EAAAA,QAAQ,CAACM,GAAT,CAAa,UAACF,IAAD,EAAU;AAAA;;AAErB,QAAMY,KAAK,kBAAGZ,IAAI,CAACa,IAAL,CAAU,CAAV,CAAH,0BAAmB,WAA9B;AAEA,QAAIuE,QAAQ,GAAG5D,MAAM,CAACjB,SAAP,CAAiB,UAACjB,CAAD;AAAA,aAAOA,CAAC,KAAKsB,KAAb;AAAA,KAAjB,CAAf;;AAEA,QAAIwE,QAAQ,KAAK,CAAC,CAAlB,EAAqB;AACnBA,MAAAA,QAAQ,GAAG5D,MAAM,CAAChB,IAAP,CAAYI,KAAZ,CAAX;AACAa,MAAAA,QAAQ,CAAC,CAAD,CAAR,CAAYX,IAAZ,CAAiBsE,QAAQ,GAAG,CAA5B,IAAiCpF,IAAI,CAACmB,MAAL,GAAc,GAA/C;AACD,KAHD,MAGO;AACLM,MAAAA,QAAQ,CAAC,CAAD,CAAR,CAAYX,IAAZ,CAAiBsE,QAAjB,KAA8BpF,IAAI,CAACmB,MAAL,GAAc,GAA5C;AACD;AACF,GAZD;AAcAK,EAAAA,MAAM,CAACtB,GAAP,CAAW,UAACZ,CAAD,EAAI8B,CAAJ,EAAU;AACnBK,IAAAA,QAAQ,CAAC,CAAD,CAAR,CAAYV,eAAZ,CAA4BK,CAA5B,IAAiCC,eAAe,CAACG,MAAM,CAACF,MAAR,EAAgBF,CAAhB,CAAhD;AACAK,IAAAA,QAAQ,CAAC,CAAD,CAAR,CAAY0D,oBAAZ,CAAiC/D,CAAjC,IAAsCC,eAAe,CAACG,MAAM,CAACF,MAAR,EAAgBF,CAAhB,CAArD;AACD,GAHD;AAKA,MAAMG,aAAa,GAAG;AACpBC,IAAAA,MAAM,EAAEA,MADY;AAEpBC,IAAAA,QAAQ,EAAEA;AAFU,GAAtB;AAKA,sBACEC,6BAAC2D,sBAAD;AACE,IAAA,IAAI,EAAE9D,aADR;AAEE,IAAA,OAAO,EAAE;AACPM,MAAAA,mBAAmB,EAAE,IADd;AAEPC,MAAAA,WAAW,EAAE,CAFN;AAGPF,MAAAA,UAAU,EAAE;AAHL;AAFX,IADF;AAUD,CA9CD;;;;;;;;;;;ACHA,IAAM0D,SAAS,GAAGtD,mBAAU,CAAC,UAACC,KAAD;AAAA,SAAY;AACvCC,IAAAA,IAAI,EAAE;AACJqD,MAAAA,QAAQ,EAAE;AADN,KADiC;AAIvCC,IAAAA,KAAK,EAAE;AACLR,MAAAA,MAAM,EAAE,GADH;AAELH,MAAAA,KAAK,EAAE;AAFF,KAJgC;AAQvCY,IAAAA,OAAO,EAAE;AACPC,MAAAA,OAAO,EAAEzD,KAAK,CAACI,OAAN,CAAc,CAAd;AADF;AAR8B,GAAZ;AAAA,CAAD,CAA5B;AAaA,IAAMsD,YAAY,GAAGC,UAAH,mBAAlB;;AAyCA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,OAAsC;AAAA,MAAnCC,IAAmC,QAAnCA,IAAmC;AAAA,MAA7BC,MAA6B,QAA7BA,MAA6B;AAAA,MAArBC,QAAqB,QAArBA,QAAqB;AAAA,MAAXC,IAAW,QAAXA,IAAW;AAC7D,MAAMzD,OAAO,GAAG8C,SAAS,EAAzB;;AAD6D,kBAE7CxB,cAAQ,CAAC,GAAD,CAFqC;AAAA,MAEtDe,KAFsD;;AAAA,mBAG5Cf,cAAQ,CAAC,GAAD,CAHoC;AAAA,MAGtDkB,MAHsD;;AAI7D,MAAMkB,MAAM,GAAG,CAAf;AACA,MAAMC,QAAQ,GAAGrC,cAAQ,CAACmC,IAAD,WAACA,IAAD,GAAS,YAAT,CAAzB;;AAL6D,kBASjBG,eAAQ,CAACT,YAAD,EAAe;AACjEU,IAAAA,SAAS,EAAE;AACTC,MAAAA,OAAO,EAAE;AAAER,QAAAA,IAAI,EAAEA;AAAR,OADA;AAETA,MAAAA,IAAI,EAAJA,IAFS;AAGTI,MAAAA,MAAM,EAANA,MAHS;AAITC,MAAAA,QAAQ,EAARA;AAJS;AADsD,GAAf,CATS;AAAA,MASrDI,OATqD,aASrDA,OATqD;AAAA,MAS5CC,KAT4C,aAS5CA,KAT4C;AAAA,MASrC1F,IATqC,aASrCA,IATqC;AAAA,MAS/B2F,SAT+B,aAS/BA,SAT+B;;AAiB7D,MAAIF,OAAJ,EAAa,oBAAO7E,qDAAP;AACb,MAAI8E,KAAJ,EAAW,oBAAO9E,mDAAP;AAEX,MAAM4E,OAAO,GAAGxF,IAAI,CAACwF,OAArB;AAEA,MAAM1G,QAAQ,GAAGkB,IAAI,CAAClB,QAAL,CAAc8G,KAA/B;AAEAD,EAAAA,SAAS,CAAC;AACRJ,IAAAA,SAAS,EAAE;AACTH,MAAAA,MAAM,EAAEpF,IAAI,CAAClB,QAAL,CAAc8G,KAAd,CAAoBpF;AADnB,KADH;AAIRqF,IAAAA,WAAW,EAAE,qBAACC,IAAD,SAA+B;AAAA,UAAtBC,eAAsB,SAAtBA,eAAsB;AAC1C,UAAI,CAACA,eAAL,EAAsB,OAAOD,IAAP;AAEtBC,MAAAA,eAAe,CAACjH,QAAhB,CAAyB8G,KAAzB,GAAiCE,IAAI,CAAChH,QAAL,CAAc8G,KAAd,CAAoBI,MAApB,CAC/BD,eAAe,CAACjH,QAAhB,CAAyB8G,KADM,CAAjC;AAIA,aAAOK,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,eAAlB,CAAP;AACD;AAZO,GAAD,CAAT,CAaGI,IAbH,CAaQ,UAACC,GAAD,EAAS;AACfzG,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBwG,GAAnB;AACD,GAfD;;AAiBA,MAAI,CAAClB,QAAL,EAAe;AACbA,IAAAA,QAAQ,GAAG,EAAX;AACD;;AAED,MAAI,CAACD,MAAL,EAAa;AACXA,IAAAA,MAAM,GAAG,IAAT;AACD;;AAED,sBACErE,6BAACyF,sBAAD;AAAc,IAAA,MAAM,EAAEpB,MAAtB;AAA8B,IAAA,aAAa,EAAC,IAA5C;AAAiD,IAAA,QAAQ,EAAEC;AAA3D,kBACEtE;AAAK,IAAA,SAAS,EAAE0F,MAAM,CAACC;AAAvB,kBACE3F;AAAK,IAAA,SAAS,EAAC;AAAf,kBACEA;AAAK,IAAA,SAAS,EAAE0F,MAAM,CAACE,YAAvB;AAAqC,IAAA,GAAG,EAAEhB,OAAO,CAACiB,QAAlD;AAA4D,IAAA,GAAG,EAAC;AAAhE,IADF,CADF,eAIE7F;AAAI,IAAA,SAAS,EAAC;AAAd,KAAuB4E,OAAO,CAACkB,IAA/B,CAJF,eAKE9F;AAAK,IAAA,SAAS,EAAC,SAAf;AAAyB,IAAA,KAAK,EAAE;AAAE+F,MAAAA,QAAQ,EAAE;AAAZ;AAAhC,kBAUE/F,6BAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,SAAS,EAAEc,OAAO,CAACN,IAAnC;AAAyC,IAAA,OAAO,EAAE;AAAlD,kBACER,6BAAC,IAAD;AACE,IAAA,IAAI,MADN;AAEE,IAAA,EAAE,EAAE,EAFN;AAGE,IAAA,EAAE,EAAE,EAHN;AAIE,IAAA,EAAE,EAAE,CAJN;AAKE,IAAA,EAAE,EAAE,CALN;AAME,IAAA,KAAK,EAAE;AAAE+F,MAAAA,QAAQ,EAAE,UAAZ;AAAwBC,MAAAA,SAAS,EAAE,GAAnC;AAAwCC,MAAAA,QAAQ,EAAE;AAAlD;AANT,kBAQEjG,6BAAC,QAAD;AAAU,IAAA,QAAQ,EAAE9B;AAApB,IARF,CADF,eAWE8B,6BAAC,IAAD;AACE,IAAA,IAAI,MADN;AAEE,IAAA,EAAE,EAAE,EAFN;AAGE,IAAA,EAAE,EAAE,EAHN;AAIE,IAAA,EAAE,EAAE,CAJN;AAKE,IAAA,EAAE,EAAE,CALN;AAME,IAAA,KAAK,EAAE;AAAE+F,MAAAA,QAAQ,EAAE,UAAZ;AAAwBC,MAAAA,SAAS,EAAE,GAAnC;AAAwCC,MAAAA,QAAQ,EAAE;AAAlD;AANT,kBAQEjG,6BAAC,QAAD;AAAU,IAAA,QAAQ,EAAE9B;AAApB,IARF,CAXF,CAVF,eAgCE8B,6BAAC,aAAD;AAAe,IAAA,QAAQ,EAAE9B,QAAzB;AAAmC,IAAA,KAAK,EAAEiF,KAA1C;AAAiD,IAAA,MAAM,EAAEG;AAAzD,IAhCF,CALF,CADF,CADF;AA4CD,CA7FD;;;;"}
>>>>>>> 20978c9ce119208e550695df3ed34a6021230c2d
